# دليل تخصيص لوحة التحكم (Dashboard Customization Guide)

## نظرة عامة
لوحة التحكم في Fleetify تدعم تخصيصاً كاملاً للبطاقات (Widgets) مع إمكانية التحريك وتعديل الحجم.

## الميزات المتاحة

### 1. **التحريك (Drag & Drop)**
- اسحب أي بطاقة لتحريكها إلى موقع جديد
- يعمل فقط في وضع التعديل
- التحريك سلس مع تأثيرات بصرية

### 2. **تعديل الحجم (Resizing)**
- اسحب زوايا البطاقة لتغيير حجمها
- الحد الأدنى والأقصى للحجم محدد مسبقاً
- المحتوى يتكيف تلقائياً مع الحجم الجديد

### 3. **إخفاء/إظهار البطاقات**
- أخفِ البطاقات التي لا تحتاجها
- أظهر البطاقات المخفية من قائمة البطاقات المخفية
- يتم حفظ حالة الرؤية تلقائياً

### 4. **وضع التعديل (Edit Mode)**
- انقر على زر "تخصيص" لتفعيل وضع التعديل
- في هذا الوضع تظهر أزرار التحكم على كل بطاقة
- يمكنك تحريك وتغيير حجم البطاقات

### 5. **حفظ التخصيصات**
- التخصيصات تُحفظ تلقائياً عند الخروج من وضع التعديل
- يتم الحفظ في localStorage (محلياً) و Supabase (سحابياً)
- التخصيصات تُحفظ لكل مستخدم بشكل منفصل

### 6. **إعادة الافتراضي**
- انقر على زر "إعادة الافتراضي" لاستعادة الترتيب الأصلي
- سيتم فقدان جميع التخصيصات عند الضغط على هذا الزر

## البطاقات المتاحة

| البطاقة | الوصف | الحد الأدنى | الحد الأقصى |
|--------|-------|-----------|-----------|
| إجمالي المركبات | عدد المركبات المتاحة | 2x2 | 4x4 |
| العقود النشطة | عدد العقود النشطة | 2x2 | 4x4 |
| إجمالي العملاء | عدد العملاء | 2x2 | 4x4 |
| إيرادات الشهر | الإيرادات الشهرية | 2x2 | 4x4 |
| الأداء المالي | رسم بياني للإيرادات | 3x3 | - |
| حالة الأسطول | توزيع حالة المركبات | 2x3 | - |
| جدول الصيانة | المركبات المجدولة للصيانة | 3x3 | - |
| تقويم الحجوزات | تقويم الحجوزات | 3x3 | - |
| توقعات الإيرادات | توقعات الإيرادات | 3x3 | - |
| النشاطات الأخيرة | آخر النشاطات | 3x3 | - |

## كيفية الاستخدام

### تفعيل وضع التعديل
1. انقر على زر "تخصيص" في الزاوية العلوية اليسرى
2. ستظهر أزرار التحكم على كل بطاقة

### تحريك بطاقة
1. في وضع التعديل، انقر على أيقونة "التحريك" (Move) على البطاقة
2. اسحب البطاقة إلى الموقع المطلوب
3. أفلتها في الموقع الجديد

### تغيير حجم بطاقة
1. في وضع التعديل، اسحب زاوية البطاقة
2. اسحب لتكبير أو تصغير البطاقة
3. المحتوى سيتكيف تلقائياً

### إخفاء بطاقة
1. في وضع التعديل، انقر على أيقونة "الإخفاء" (Eye Off) على البطاقة
2. ستختفي البطاقة من العرض
3. يمكنك إظهارها لاحقاً من قائمة البطاقات المخفية

### حفظ التخصيصات
1. بعد الانتهاء من التعديلات، انقر على زر "حفظ" أو "إلغاء"
2. التخصيصات تُحفظ تلقائياً

## التكنولوجيا المستخدمة

- **react-grid-layout**: للتحريك والترتيب
- **react-resizable**: لتعديل الحجم
- **Supabase**: لحفظ التخصيصات في السحابة
- **localStorage**: لحفظ التخصيصات محلياً

## ملاحظات مهمة

1. التخصيصات تُحفظ لكل مستخدم بشكل منفصل
2. يمكنك الوصول إلى تخصيصاتك من أي جهاز بعد تسجيل الدخول
3. إذا فقدت الاتصال بالإنترنت، ستُحفظ التخصيصات محلياً وستُتزامن عند استعادة الاتصال
4. يمكنك استعادة الترتيب الافتراضي في أي وقت

## استكشاف الأخطاء

### البطاقات لا تتحرك
- تأكد من تفعيل وضع التعديل
- تأكد من النقر على أيقونة التحريك

### التخصيصات لا تُحفظ
- تأكد من تسجيل الدخول بشكل صحيح
- تحقق من اتصال الإنترنت
- جرّب مسح ذاكرة التخزين المؤقتة للمتصفح

### البطاقات تظهر بشكل غريب
- جرّب تحديث الصفحة
- جرّب إعادة الافتراضي
- تأكد من أن حجم النافذة مناسب
