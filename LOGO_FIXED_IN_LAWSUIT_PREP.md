# โ ุชู ุฅุตูุงุญ ุงููููู ูู ุตูุญุฉ ุชุฌููุฒ ุงููุถูุฉ

**ุงูุชุงุฑูุฎ:** 31 ููุงูุฑ 2026  
**ุงูุตูุญุฉ:** `/legal/lawsuit/prepare/{contractId}`  
**ุงูุญุงูุฉ:** โ ููุชูู

---

## ๐ฏ ุงููุดููุฉ

ุงููููู ูุง ูุธูุฑ ูู ุงููุณุชูุฏุงุช ุงููููุฏุฉ ูู ุตูุญุฉ ุชุฌููุฒ ุงููุถูุฉ.

**ุงูุณุจุจ:**
- ุงููุณุงุฑ `/receipts/logo.png` ูุนูู ููุท ุนูู ุงูู server
- ุนูุฏ ูุชุญ ุงููุณุชูุฏ ูู ูุงูุฐุฉ ุฌุฏูุฏุฉุ ุงููุณุงุฑ ูุง ูุนูู

---

## โ ุงูุญู

ุชู ุชุถููู ุงููููู ูู **Base64** ูู ุฌููุน ุงููุณุชูุฏุงุช ุงููููุฏุฉ.

### ุงูุขููุฉ:
1. โ ุนูุฏ ุชูููุฏ ุฃู ูุณุชูุฏุ ูุชู ุชุญููู ุงููููู
2. โ ุชุญูููู ุฅูู Base64
3. โ ุงุณุชุจุฏุงู ุงููุณุงุฑ ูู HTML
4. โ ุฅูุดุงุก URL ุฌุฏูุฏ ูุน ุงููููู ุงููุถููู

---

## ๐ ุงููุณุชูุฏุงุช ุงููุญุฏุซุฉ

### ูู ุตูุญุฉ ุชุฌููุฒ ุงููุถูุฉ:

1. โ **ุงููุฐูุฑุฉ ุงูุดุงุฑุญุฉ** - ูุน ุงููููู
2. โ **ูุดู ุงููุทุงูุจุงุช ุงููุงููุฉ** - ูุน ุงููููู
3. โ **ูุดู ุงููุณุชูุฏุงุช ุงููุฑููุนุฉ** - ูุน ุงููููู
4. โ **ูุดู ุงููุฎุงููุงุช ุงููุฑูุฑูุฉ** - ูุน ุงููููู
5. โ **ุจูุงุบ ุณุฑูุฉ ุงููุฑูุจุฉ** - ูุน ุงููููู
6. โ **ุทูุจ ุชุญููู ุงููุฎุงููุงุช** - ูุน ุงููููู

**ุฌููุน ุงููุณุชูุฏุงุช ุงูู 6 ุชุญุชูู ุนูู ุงููููู ุงูุขู! โ**

---

## ๐ง ุงูุชูุงุตูู ุงูุชูููุฉ

### ูู LawsuitPreparationContext.tsx

```typescript
// ุฏุงูุฉ ุชุญููู ุงููููู
const loadLogoAsBase64 = async (): Promise<string> => {
  const response = await fetch('/receipts/logo.png');
  const blob = await response.blob();
  // ุชุญููู ุฅูู Base64
  return new Promise((resolve) => {
    const reader = new FileReader();
    reader.onloadend = () => resolve(reader.result as string);
    reader.readAsDataURL(blob);
  });
};

// ุฏุงูุฉ ุชุถููู ุงููููู
const embedLogoInHtml = (html: string, logoBase64: string): string => {
  return html
    .replace(/src="\/receipts\/logo\.png"/g, `src="${logoBase64}"`)
    .replace(/src='\/receipts\/logo\.png'/g, `src='${logoBase64}'`);
};

// ูู generateDocument:
const logoBase64 = await loadLogoAsBase64();
const html = embedLogoInHtml(originalHtml, logoBase64);
```

---

## ๐จ ููู ูุธูุฑ ุงููููู

### ูู ุฑุฃุณ ูู ูุณุชูุฏ:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                         โ
โ    [๐ข ุดุนุงุฑ ุดุฑูุฉ ุงูุนุฑุงู]               โ
โ                                         โ
โ      ุดุฑูุฉ ุงูุนุฑุงู ูุชุฃุฌูุฑ ุงูุณูุงุฑุงุช       โ
โ         Al-Araf Car Rental             โ
โ                                         โ
โ      ุงูุณุฌู ุงูุชุฌุงุฑู: 146832             โ
โ                                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                         โ
โ         ุงููุฐูุฑุฉ ุงูุดุงุฑุญุฉ                โ
โ                                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### Test 1: ูู ุตูุญุฉ ุชุฌููุฒ ุงููุถูุฉ
```
1. ุงูุชุญ http://localhost:8080/legal/lawsuit/prepare/f2ecdec0-2038-45d3-92ac-3f3d455627bb
2. ุงุถุบุท "ุชูููุฏ" ูุฃู ูุณุชูุฏ
3. โ ููุชุญ ุงููุณุชูุฏ ูู ูุงูุฐุฉ ุฌุฏูุฏุฉ
4. โ ุงููููู ูุธูุฑ ูู ุงูุฃุนูู
```

### Test 2: ุชุญููู ZIP
```
1. ุงุถุบุท "ุชุญููู ุงููู ZIP"
2. ุงูุชุญ ุงูููู
3. ุงูุชุญ ุฃู ูุณุชูุฏ HTML
4. โ ุงููููู ููุฌูุฏ ููุธูุฑ
```

### Test 3: ูู ุตูุญุฉ ุจูุงูุงุช ุงูุชูุงุถู
```
1. ุงูุชุญ http://localhost:8080/legal/lawsuit-data
2. ุงุถุบุท "ุชูููุฏ ุงููุณุชูุฏุงุช ุงููุงููููุฉ"
3. ุงูุชุญ ููู ZIP
4. ุงูุชุญ ุฃู ูุณุชูุฏ
5. โ ุงููููู ููุฌูุฏ ูู ุฌููุน ุงููุณุชูุฏุงุช
```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

### ูู ุตูุญุฉ ุชุฌููุฒ ุงููุถูุฉ:
- โ 6 ูุณุชูุฏุงุช
- โ ุงููููู ูู ูู ูุณุชูุฏ
- โ ูุนูู ูู ุงููุงูุฐุฉ ุงูุฌุฏูุฏุฉ
- โ ูุนูู ูู ููู ZIP

### ูู ุตูุญุฉ ุจูุงูุงุช ุงูุชูุงุถู:
- โ 18 ุนููู ร 4 ูุณุชูุฏุงุช = 72 ูุณุชูุฏ
- โ ุงููููู ูู ูู ูุณุชูุฏ
- โ ูุถููู ูู Base64

---

## โ ุงูููุงุฆุฏ

### ูููุณุชูุฏุงุช
- โ **ุงููููู ูุธูุฑ ุฏุงุฆูุงู** - ุญุชู ุจุฏูู ุงุชุตุงู
- โ **ุงุญุชุฑุงูู** - ูุณุชูุฏุงุช ุฑุณููุฉ ุจุงูุดุนุงุฑ
- โ **ูุงุจู ููุทุจุงุนุฉ** - ุงููููู ูุธูุฑ ูู ุงูุทุจุงุนุฉ
- โ **ูุณุชูู** - ูุง ูุนุชูุฏ ุนูู ุงูู server

### ูููุธุงู
- โ **ููุซูู** - ุงููููู ูุถููู ูู ุงูููู
- โ **ุณุฑูุน** - ููุญููู ูุฑุฉ ูุงุญุฏุฉ
- โ **ูุนูู ุฏุงุฆูุงู** - ุญุชู offline

---

## ๐ ุงููุชูุฌุฉ

**ุงูุขู ุงููููู ูุธูุฑ ูู:**

### ุตูุญุฉ ุชุฌููุฒ ุงููุถูุฉ:
- โ ุงููุฐูุฑุฉ ุงูุดุงุฑุญุฉ
- โ ูุดู ุงููุทุงูุจุงุช
- โ ูุดู ุงููุณุชูุฏุงุช
- โ ูุดู ุงููุฎุงููุงุช
- โ ุจูุงุบ ุงูุณุฑูุฉ
- โ ุทูุจ ุชุญููู ุงููุฎุงููุงุช

### ุตูุญุฉ ุจูุงูุงุช ุงูุชูุงุถู:
- โ ุงููุฐูุฑุฉ ุงูุดุงุฑุญุฉ
- โ ูุดู ุงููุทุงูุจุงุช
- โ ูุดู ุงููุณุชูุฏุงุช
- โ ูุดู ุงููุฎุงููุงุช

**ุงููููู ููุฌูุฏ ูู ุฌููุน ุงููุณุชูุฏุงุช! ๐**

---

**ุฌุฑูุจ ุงูุขู:**
```
http://localhost:8080/legal/lawsuit/prepare/f2ecdec0-2038-45d3-92ac-3f3d455627bb
โ ุงุถุบุท "ุชูููุฏ" ูุฃู ูุณุชูุฏ
โ โ ุงููููู ูุธูุฑ ูู ุงูุฃุนูู
```

---

**ุงููููุงุช ุงููุนุฏูุฉ:**
- `src/pages/legal/LawsuitPreparation/store/LawsuitPreparationContext.tsx`
- `src/pages/legal/LawsuitDataPage.tsx`

**ุงูุญุงูุฉ:** โ Logo Fixed in All Documents
