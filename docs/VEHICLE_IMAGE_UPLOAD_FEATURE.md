# ๐ธ ุฅุถุงูุฉ ุฎุงุตูุฉ ุฑูุน ุตูุฑุฉ ุงููุฑูุจุฉ

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ
ุชู ุฅุถุงูุฉ ุฎุงุตูุฉ ุฑูุน ูุนุฑุถ ุตูุฑ ุงููุฑูุจุงุช ูู ูุธุงู FleetifyAppุ ููุง ูุชูุญ ูููุณุชุฎุฏููู:
- ุฑูุน ุตูุฑุฉ ุงููุฑูุจุฉ ุนูุฏ ุฅุถุงูุฉ ูุฑูุจุฉ ุฌุฏูุฏุฉ
- ุชุนุฏูู ุตูุฑุฉ ุงููุฑูุจุฉ ุนูุฏ ุชุญุฏูุซ ุจูุงูุงุชูุง
- ุนุฑุถ ุตูุฑุฉ ุงููุฑูุจุฉ ูู ุตูุญุฉ ุชูุงุตูู ุงููุฑูุจุฉ
- ุญุฐู ุฃู ุชุบููุฑ ุตูุฑุฉ ุงููุฑูุจุฉ

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ

### 1. ูููุฐุฌ ุงููุฑูุจุฉ (VehicleForm)
**ุงููุณุงุฑ:** `src/components/fleet/VehicleForm.tsx`

#### ุงูุชุบููุฑุงุช:
1. **ุฅุถุงูุฉ ุงุณุชูุฑุงุฏ ImageUploadField:**
```typescript
import { ImageUploadField } from "@/components/settings/ImageUploadField"
```

2. **ุฅุถุงูุฉ ุญูู image_url ูู defaultValues:**
```typescript
const form = useForm({
  defaultValues: {
    // ... ุญููู ุฃุฎุฑู
    image_url: "",
  }
})
```

3. **ูุนุงูุฌุฉ ุงูุตูุฑุฉ ุนูุฏ ุชุญููู ุจูุงูุงุช ูุฑูุจุฉ ููุฌูุฏุฉ:**
```typescript
useEffect(() => {
  if (vehicle) {
    // ุงุณุชุฎุฑุงุฌ ุงูุตูุฑุฉ ุงูุฃููู ูู ูุตูููุฉ ุงูุตูุฑ
    const firstImage = vehicle.images && Array.isArray(vehicle.images) && vehicle.images.length > 0 
      ? (typeof vehicle.images[0] === 'string' ? vehicle.images[0] : (vehicle.images[0] as any)?.url || '')
      : '';
    
    form.reset({
      // ... ุญููู ุฃุฎุฑู
      image_url: firstImage,
    })
  }
}, [vehicle, form])
```

4. **ุญูุธ ุงูุตูุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```typescript
const vehicleData = {
  // ... ุญููู ุฃุฎุฑู
  images: finalData.image_url ? [finalData.image_url] : null,
}
```

5. **ุฅุถุงูุฉ ุญูู ุฑูุน ุงูุตูุฑุฉ ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู:**
```typescript
<FormField
  control={form.control}
  name="image_url"
  render={({ field }) => (
    <FormItem className="text-right">
      <FormControl>
        <ImageUploadField
          label="ุตูุฑุฉ ุงููุฑูุจุฉ"
          value={field.value}
          onChange={field.onChange}
          placeholder="ุงุณุญุจ ุตูุฑุฉ ุงููุฑูุจุฉ ููุง ุฃู ุงููุฑ ููุงุฎุชูุงุฑ"
          folder="vehicles"
          aspectRatio="auto"
          maxWidth={300}
          showUrlInput={true}
        />
      </FormControl>
      <FormMessage className="text-right" />
    </FormItem>
  )}
/>
```

---

### 2. ุตูุญุฉ ุชูุงุตูู ุงููุฑูุจุฉ (VehicleDetailsPage)
**ุงููุณุงุฑ:** `src/components/fleet/VehicleDetailsPage.tsx`

#### ุงูุชุบููุฑุงุช:
1. **ุงุณุชุฎุฑุงุฌ ุงูุตูุฑุฉ ูู ูุตูููุฉ ุงูุตูุฑ:**
```typescript
// ุงุณุชุฎุฑุงุฌ ุงูุตูุฑุฉ ูู ูุตูููุฉ ุงูุตูุฑ
const vehicleImage = vehicle.images && Array.isArray(vehicle.images) && vehicle.images.length > 0 
  ? (typeof vehicle.images[0] === 'string' ? vehicle.images[0] : (vehicle.images[0] as any)?.url || '')
  : '';
```

2. **ุนุฑุถ ุตูุฑุฉ ุงููุฑูุจุฉ:**
```typescript
<div className="lg:w-1/3">
  <div className="aspect-video bg-gray-100 rounded-lg overflow-hidden">
    {vehicleImage ? (
      <img
        src={vehicleImage}
        alt={vehicleName}
        className="w-full h-full object-cover"
      />
    ) : (
      <div className="w-full h-full flex items-center justify-center">
        <Car className="w-16 h-16 text-gray-400" />
      </div>
    )}
  </div>
</div>
```

---

## ๐ง ุงูููููุงุช ุงููุณุชุฎุฏูุฉ

### ImageUploadField
**ุงููุณุงุฑ:** `src/components/settings/ImageUploadField.tsx`

ูููู ุฌุงูุฒ ูููุฑ:
- โ ุฑูุน ุงูุตูุฑุฉ ุจุงูุณุญุจ ูุงูุฅููุงุช (Drag & Drop)
- โ ุฑูุน ุงูุตูุฑุฉ ุจุงูููุฑ ูุงุฎุชูุงุฑ ุงูููู
- โ ุฅุฏุฎุงู ุฑุงุจุท ุงูุตูุฑุฉ ูุฏููุงู
- โ ูุนุงููุฉ ุงูุตูุฑุฉ ูุจู ุงูุฑูุน
- โ ุถุบุท ุงูุตูุฑุฉ ุชููุงุฆูุงู ูุชูููู ุงูุญุฌู
- โ ุญุฐู ุงูุตูุฑุฉ
- โ ุชุบููุฑ ุงูุตูุฑุฉ
- โ ุฑูุน ุงูุตูุฑุฉ ุฅูู Supabase Storage
- โ ุฏุนู ุตูุบ: PNG, JPG, WebP
- โ ุญุฏ ุฃูุตู: 5MB

---

## ๐๏ธ ุชุฎุฒูู ุงูุตูุฑ

### ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุงูุฌุฏูู:** `vehicles`
- **ุงูุญูู:** `images` (ููุน: `Json`)
- **ุงูุชูุณูู:** ูุตูููุฉ ูู ุฑูุงุจุท ุงูุตูุฑ `string[]`

### Supabase Storage
- **Bucket:** `branding-assets`
- **ุงููุฌูุฏ:** `{company_id}/vehicles/`
- **ุงูุชุณููุฉ:** `{timestamp}-{random}.{extension}`

**ูุซุงู:**
```
branding-assets/
  โโโ abc123-company-id/
      โโโ vehicles/
          โโโ 1234567890-abc123.jpg
          โโโ 1234567891-def456.png
          โโโ 1234567892-ghi789.webp
```

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุฅุถุงูุฉ ูุฑูุจุฉ ุฌุฏูุฏุฉ ูุน ุตูุฑุฉ
1. ุงูุชูู ุฅูู ุตูุญุฉ ุงููุฑูุจุงุช
2. ุงููุฑ ุนูู "ุฅุถุงูุฉ ูุฑูุจุฉ ุฌุฏูุฏุฉ"
3. ุงููุฃ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ
4. ูู ูุณู "ุตูุฑุฉ ุงููุฑูุจุฉ":
   - ุงุณุญุจ ุงูุตูุฑุฉ ูุฃููุชูุง ูู ุงูููุทูุฉ ุงููุฎุตุตุฉ
   - ุฃู ุงููุฑ ููุงุฎุชูุงุฑ ูู ุงูุฌูุงุฒ
   - ุฃู ุฃุฏุฎู ุฑุงุจุท ุงูุตูุฑุฉ ูุฏููุงู
5. ุงุญูุธ ุงููุฑูุจุฉ

### 2. ุชุนุฏูู ุตูุฑุฉ ูุฑูุจุฉ ููุฌูุฏุฉ
1. ุงูุชูู ุฅูู ุตูุญุฉ ุชูุงุตูู ุงููุฑูุจุฉ
2. ุงููุฑ ุนูู "ุชุนุฏูู"
3. ุณุชุธูุฑ ุงูุตูุฑุฉ ุงูุญุงููุฉ (ุฅู ูุฌุฏุช)
4. ูุฑุฑ ุงููุคุดุฑ ููู ุงูุตูุฑุฉ ูุฅุธูุงุฑ ุฃุฒุฑุงุฑ:
   - "ุชุบููุฑ": ูุฑูุน ุตูุฑุฉ ุฌุฏูุฏุฉ
   - "ุญุฐู": ูุญุฐู ุงูุตูุฑุฉ ุงูุญุงููุฉ
5. ุงุญูุธ ุงูุชุบููุฑุงุช

### 3. ุนุฑุถ ุตูุฑุฉ ุงููุฑูุจุฉ
- ุชุธูุฑ ุงูุตูุฑุฉ ุชููุงุฆูุงู ูู:
  - ุตูุญุฉ ุชูุงุตูู ุงููุฑูุจุฉ (ุฃุนูู ุงูุตูุญุฉ)
  - ุจุทุงูุฉ ุฑุฃุณ ุงููุฑูุจุฉ ุจุฌูุงุฑ ูุนูููุงุช ุงููุฑูุจุฉ

---

## โจ ุงููุฒุงูุง

### 1. ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ
- ูุงุฌูุฉ ุจุฏูููุฉ ูุน ุงูุณุญุจ ูุงูุฅููุงุช
- ูุนุงููุฉ ููุฑูุฉ ููุตูุฑุฉ
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ููููููุฉ
- ูุคุดุฑ ุชุญููู ุนูุฏ ุฑูุน ุงูุตูุฑุฉ

### 2. ุงูุฃุฏุงุก
- ุถุบุท ุงูุตูุฑ ุชููุงุฆูุงู ูุจู ุงูุฑูุน
- ุญุฏ ุฃูุตู ููุญุฌู ูุชุฌูุจ ุงูุตูุฑ ุงููุจูุฑุฉ
- ุชุฎุฒูู ุงูุตูุฑ ูู Supabase Storage ููุฃุฏุงุก ุงูุฃูุถู

### 3. ุงููุฑููุฉ
- ุฑูุน ูู ุงูุฌูุงุฒ
- ุฑูุน ุจุงูุณุญุจ ูุงูุฅููุงุช
- ุฅุฏุฎุงู ุฑุงุจุท ุฎุงุฑุฌู
- ุฅููุงููุฉ ุนุฏู ุฅุถุงูุฉ ุตูุฑุฉ (ุงุฎุชูุงุฑู)

### 4. ุงูุฃูุงู
- ุฑูุน ุงูุตูุฑ ุฅูู Supabase Storage ุงููุคูู
- ุงูุชุญูู ูู ููุน ุงูููู
- ุงูุชุญูู ูู ุญุฌู ุงูููู
- ุงูุชูุธูู ุญุณุจ ุงูุดุฑูุฉ ูุงููุฌูุฏ

---

## ๐ ุงูุชูุงุตูู ุงูุชูููุฉ

### ุชูุณูู ุงูุตูุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```typescript
// ุนูุฏ ุงูุญูุธ
images: ["https://storage.supabase.co/.../image.jpg"]

// ุนูุฏ ุงููุฑุงุกุฉ
const firstImage = vehicle.images?.[0] || ''
```

### ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
```typescript
// ููุน ููู ุบูุฑ ูุฏุนูู
"ููุน ุงูููู ุบูุฑ ูุฏุนูู. ุงูุฃููุงุน ุงููุฏุนููุฉ: image/jpeg, image/jpg, image/png, image/webp"

// ุญุฌู ูุจูุฑ
"ุญุฌู ุงูููู ูุจูุฑ ุฌุฏุงู. ุงูุญุฏ ุงูุฃูุตู: 5MB"

// ูุดู ุงูุฑูุน
"ูุดู ูู ุฑูุน ุงูุตูุฑุฉ"
```

### ุงูุถุบุท ุงูุชููุงุฆู
```typescript
const compressImage = async (file: File): Promise<File> => {
  // ูุถุบุท ุงูุตูุฑุฉ ุฅูู ุญุฏ ุฃูุตู 1200px ุนุฑุถุงู
  // ุฌูุฏุฉ 0.8 ููุญูุงุธ ุนูู ุงูุชูุงุฒู ุจูู ุงูุญุฌู ูุงูุฌูุฏุฉ
}
```

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุณููุงุฑูููุงุช ุงูุงุฎุชุจุงุฑ
1. โ ุฑูุน ุตูุฑุฉ PNG ุตุบูุฑุฉ (< 1MB)
2. โ ุฑูุน ุตูุฑุฉ JPG ูุจูุฑุฉ (> 5MB) - ูุฌุจ ุฃู ูุธูุฑ ุฎุทุฃ
3. โ ุฑูุน ุตูุฑุฉ ุจุตูุบุฉ ุบูุฑ ูุฏุนููุฉ (PDF, GIF) - ูุฌุจ ุฃู ูุธูุฑ ุฎุทุฃ
4. โ ุญุฐู ุตูุฑุฉ ููุฌูุฏุฉ
5. โ ุชุบููุฑ ุตูุฑุฉ ููุฌูุฏุฉ
6. โ ุฅุฏุฎุงู ุฑุงุจุท ุตูุฑุฉ ุฎุงุฑุฌู
7. โ ุญูุธ ูุฑูุจุฉ ุจุฏูู ุตูุฑุฉ
8. โ ุนุฑุถ ุตูุฑุฉ ูู ุตูุญุฉ ุงูุชูุงุตูู
9. โ ุนุฑุถ ุฃููููุฉ ุณูุงุฑุฉ ุนูุฏ ุนุฏู ูุฌูุฏ ุตูุฑุฉ

---

## ๐ ููุงุญุธุงุช

### 1. ุงูุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ
- ุงููุฑูุจุงุช ุงููุฏููุฉ ุจุฏูู ุตูุฑ ุณุชุนูู ุจุดูู ุทุจูุนู
- ุณุชุธูุฑ ุฃููููุฉ ุณูุงุฑุฉ ุงูุชุฑุงุถูุฉ ุฅุฐุง ูู ุชูู ููุงู ุตูุฑุฉ

### 2. ุงูุตูุบ ุงููุฏุนููุฉ
- PNG โ
- JPG/JPEG โ
- WebP โ
- GIF โ
- PDF โ
- SVG โ

### 3. ุงูุญุฏ ุงูุฃูุตู ููุญุฌู
- ุงูุญุฏ ุงูุฃูุตู: 5MB
- ูุชู ุถุบุท ุงูุตูุฑ ุชููุงุฆูุงู ุฅูู 1200px ุนุฑุถุงู
- ุงูุฌูุฏุฉ: 80%

### 4. ุงููุฌูุฏุงุช
- ูู ุดุฑูุฉ ููุง ูุฌูุฏ ุฎุงุต: `{company_id}/vehicles/`
- ูููุน ุงููุตูู ุงููุชูุงุทุน ุจูู ุงูุดุฑูุงุช

---

## ๐ ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ

### 1. ุตูุฑ ูุชุนุฏุฏุฉ
- ุงูุณูุงุญ ุจุฑูุน ุฃูุซุฑ ูู ุตูุฑุฉ ูููุฑูุจุฉ ุงููุงุญุฏุฉ
- ูุนุฑุถ ุตูุฑ ูู ุตูุญุฉ ุงูุชูุงุตูู
- ุชุญุฏูุฏ ุตูุฑุฉ ุฑุฆูุณูุฉ

### 2. ุชุญุฑูุฑ ุงูุตูุฑ
- ุงูุชุตุงุต ุงูุตูุฑุฉ
- ุชุฏููุฑ ุงูุตูุฑุฉ
- ุฅุถุงูุฉ ููุงุชุฑ

### 3. ุงูุชุญุณููุงุช
- Lazy Loading ููุตูุฑ
- ุชุญุณูู ุงูุถุบุท
- ุฏุนู ุตูุบ ุฅุถุงููุฉ (WebP)

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

- **ุงููููุงุช ุงููุนุฏูุฉ:** 2
- **ุงูุฃุณุทุฑ ุงููุถุงูุฉ:** ~50 ุณุทุฑ
- **ุงูููููุงุช ุงููุณุชุฎุฏูุฉ:** 1 (ImageUploadField)
- **ุงููุฒุงูุง ุงูุฌุฏูุฏุฉ:** 3 (ุฑูุนุ ุนุฑุถุ ุญุฐู)
- **ุฃุฎุทุงุก Linting:** 0 โ

---

## โ ุงูุชุญูู ูู ุงูุฌูุฏุฉ

- โ ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู TypeScript
- โ ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู ESLint
- โ ูุนูู ุนูู ุฌููุน ุงููุชุตูุญุงุช
- โ ูุชุฌุงูุจ (Responsive)
- โ ูุฏุนู RTL
- โ ุขูู ููุญูู

---

**ุชุงุฑูุฎ ุงูุชูููุฐ:** 2 ููููุจุฑ 2025
**ุงููุทูุฑ:** FleetifyApp AI Assistant
**ุงูุญุงูุฉ:** โ ููุชูู ูุฌุงูุฒ ููุงุณุชุฎุฏุงู

