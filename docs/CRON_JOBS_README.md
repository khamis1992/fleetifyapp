# โ ุฅุนุฏุงุฏ ุงูููุงู ุงููุฌุฏููุฉ ุงูุชููุงุฆูุฉ - ุฌุงูุฒ ููุชูููุฐ

## ๐ ุงููููุงุช ุงููุทููุจุฉ

ุชู ุฅูุดุงุก ุงููููุงุช ุงูุชุงููุฉ ูุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู:

### 1. ููู SQL ุงูุฑุฆูุณู
**ุงููููุน:** `supabase/migrations/20250127000000_setup_automatic_cron_jobs.sql`

ูุฐุง ุงูููู ูุญุชูู ุนูู:
- โ ุชูุนูู extension `pg_cron`
- โ ุฅุนุฏุงุฏ 3 ููุงู ูุฌุฏููุฉ ุชููุงุฆูุงู
- โ ุฅุฒุงูุฉ ุงูููุงู ุงูููุฑุฑุฉ (ุฅู ูุฌุฏุช)
- โ ุฑุณุงุฆู ุชูุถูุญูุฉ ุจุงูุนุฑุจูุฉ

### 2. ุฏููู ุงูุงุณุชุฎุฏุงู ุจุงูุนุฑุจูุฉ
**ุงููููุน:** `CRON_JOBS_SETUP_GUIDE_AR.md`

ุงูุฏููู ูุญุชูู ุนูู:
- โ ุฎุทูุงุช ุงูุชูููุฐ ุฎุทูุฉ ุจุฎุทูุฉ
- โ ููููุฉ ุงูุงุฎุชุจุงุฑ ุงููุฏูู
- โ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุญููููุง
- โ ุดุฑุญ ููู ูููุฉ ูุฌุฏููุฉ

## ๐ ุงูุชูููุฐ ุงูุณุฑูุน

### ุงูุทุฑููุฉ 1: ุนุจุฑ Supabase Dashboard (ููุตู ุจูุง)

1. ุงูุชุญ [Supabase Dashboard](https://app.supabase.com)
2. ุงุฎุชุฑ ูุดุฑูุนู
3. ุงุฐูุจ ุฅูู **SQL Editor**
4. ุงูุณุฎ ูุญุชูู ุงูููู: `supabase/migrations/20250127000000_setup_automatic_cron_jobs.sql`
5. ุงูุตู ูู SQL Editor
6. ุงุถุบุท **Run**

### ุงูุทุฑููุฉ 2: ุนุจุฑ ุณุทุฑ ุงูุฃูุงูุฑ

```bash
# ุฅุฐุง ููุช ุชุณุชุฎุฏู Supabase CLI
supabase db reset
# ุฃู
supabase migration up
```

## โ ุจุนุฏ ุงูุชูููุฐ

### ุงูุชุญูู ูู ุงููุฌุงุญ:
```sql
SELECT * FROM cron.job ORDER BY jobname;
```

ูุฌุจ ุฃู ุชุฑู 3 ููุงู:
- `monthly-invoice-generation`
- `check-payment-reminders`
- `process-overdue-invoices`

### ุงูุงุฎุชุจุงุฑ ุงููุฏูู:
```sql
-- ุงุฎุชุจุงุฑ ุฅูุดุงุก ุงูููุงุชูุฑ
SELECT * FROM run_monthly_invoice_generation();

-- ุงุฎุชุจุงุฑ ุงูุชุฐููุฑุงุช
SELECT * FROM check_payment_reminders();

-- ุงุฎุชุจุงุฑ ูุนุงูุฌุฉ ุงููุชุฃุฎุฑุงุช
SELECT * FROM process_overdue_invoices();
```

## ๐ ุงูุฌุฏูู ุงูุฒููู

| ุงููููุฉ | ุงูุชูููุช | ุงููุธููุฉ |
|--------|---------|---------|
| ุฅูุดุงุก ุงูููุงุชูุฑ | ููู 28 ูู ูู ุดูุฑ (9:00 ุตุจุงุญุงู) | `run_monthly_invoice_generation()` |
| ุงูุชุฐููุฑุงุช | ููููุงู (9:00 ุตุจุงุญุงู) | `check_payment_reminders()` |
| ูุนุงูุฌุฉ ุงููุชุฃุฎุฑุงุช | ููููุงู (9:00 ุตุจุงุญุงู) | `process_overdue_invoices()` |

## ๐ฏ ุงููุชูุฌุฉ

ุจุนุฏ ุชูููุฐ ุงูููู:
- โ ุงููุธุงู ุณูุนูู ุชููุงุฆูุงู 100%
- โ ูู ุชุญุชุงุฌ ููุชุฏุฎู ุงููุฏูู
- โ ุงูููุงุชูุฑ ุณุชููุดุฃ ุชููุงุฆูุงู ููู 28 ูู ูู ุดูุฑ
- โ ุงูุชุฐููุฑุงุช ุณุชูุฑุณู ุชููุงุฆูุงู ููููุงู
- โ ุงููุชุฃุฎุฑุงุช ุณุชูุนุงูุฌ ุชููุงุฆูุงู ููููุงู

## ๐ ููุฒูุฏ ูู ุงูุชูุงุตูู

ุฑุงุฌุน ุงูุฏููู ุงููุงูู: `CRON_JOBS_SETUP_GUIDE_AR.md`

---

**ููุงุญุธุฉ:** ุงูููู ุขูู ููุชูููุฐ ุฃูุซุฑ ูู ูุฑุฉ. ุฅุฐุง ูุงู ููุงู ููุงู ููุฌูุฏุฉ ูุณุจูุงูุ ุณูุชู ุฅูุบุงุคูุง ูุฅุนุงุฏุฉ ุฅูุดุงุฆูุง.

