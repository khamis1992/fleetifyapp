# ุฅุตูุงุญ ุฒุฑ "ุญุฐู ุฌููุน ุงูุญุณุงุจุงุช"

## ุงููุดููุฉ
- โ ุฒุฑ ุงูุญุฐู ุงููููุฑุฏ ูุนูู ุจุดูู ุตุญูุญ
- โ ุฒุฑ "ุญุฐู ุฌููุน ุงูุญุณุงุจุงุช" ูุง ูุญุฐู ุงูุญุณุงุจุงุช

## ุงูุณุจุจ ุงูุฌุฐุฑู
Hook `useDirectBulkAccountDeletion` ูุงู ูุณุชุฏุนู ุฏุงูุฉ `bulk_delete_company_accounts` ุงูุชู ูุฏ ูุง ุชููู ูุทุจูุฉ ุฃู ุชุญุชูู ุนูู ุฃุฎุทุงุก.

## ุงูุญู ุงููุทุจู

### 1. ุฅูุดุงุก ุฏุงูุฉ ุฌุฏูุฏุฉ ูุจุณุทุฉ:
```sql
-- ุฏุงูุฉ ูุจุงุดุฑุฉ ูุจุณูุทุฉ
direct_delete_all_accounts(target_company_id, include_system_accounts)

ุงููููุฒุงุช:
- ูุนุงูุฌุฉ ูู ุญุณุงุจ ูููุตู
- ุชูุธูู ุชููุงุฆู ูููุฑุงุฌุน
- ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก
- ุชูุฑูุฑ ููุตู ุนู ุงููุชุงุฆุฌ
```

### 2. ุชุญุฏูุซ Hook:
```typescript
useDirectBulkAccountDeletion() โ direct_delete_all_accounts
- ุงุณุชุฏุนุงุก ุงูุฏุงูุฉ ุงูุฌุฏูุฏุฉ
- ูุนุงูุฌุฉ ูุญุณูุฉ ูููุชุงุฆุฌ
- ุฑุณุงุฆู ูุงุถุญุฉ ูููุณุชุฎุฏู
```

### 3. ุขููุฉ ุงูุนูู ุงูุฌุฏูุฏุฉ:
```
ููู ุญุณุงุจ:
1. ูุญุต ุงูููุน (ูุธุงูู/ุนุงุฏู)
2. ูุญุต ูุฌูุฏ ูุนุงููุงุช
3. ุชุญุฏูุฏ ููุน ุงูุนูููุฉ:
   - ูุธุงูู + ุนุฏู ุฅุฌุจุงุฑ โ ุฅูุบุงุก ุชูุนูู
   - ูู ูุนุงููุงุช โ ุฅูุบุงุก ุชูุนูู  
   - ุจุฏูู ูุนุงููุงุช โ ุชูุธูู ุงููุฑุงุฌุน ุซู ุญุฐู
4. ุชูููุฐ ุงูุนูููุฉ
5. ุชุณุฌูู ุงููุชูุฌุฉ
```

## ุงููููุงุช ุงููุญุฏุซุฉ

### ูุงุนุฏุฉ ุงูุจูุงูุงุช:
- `20250110000005_direct_bulk_delete.sql` - ุฏุงูุฉ ุญุฐู ุฌูุงุนู ุฌุฏูุฏุฉ

### Hooks:
- `useDirectAccountDeletion.ts` - ูุญุฏุซ ููุณุชุฎุฏู ุงูุฏุงูุฉ ุงูุฌุฏูุฏุฉ

## ุงููุชูุฌุฉ ุงููุชููุนุฉ

### ูุจู ุงูุฅุตูุงุญ:
```
โ ุฒุฑ "ุญุฐู ุฌููุน ุงูุญุณุงุจุงุช" ูุง ูุนูู
โ ูุง ูุชู ุญุฐู ุฃู ุญุณุงุจ
โ ูุง ุชูุฌุฏ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
```

### ุจุนุฏ ุงูุฅุตูุงุญ:
```
โ ุฒุฑ "ุญุฐู ุฌููุน ุงูุญุณุงุจุงุช" ูุนูู
โ ุชูุช ูุนุงูุฌุฉ 14 ุญุณุงุจ: 11 ุชู ุญุฐููุงุ 3 ุชู ุฅูุบุงุก ุชูุนูููุงุ 0 ูุดู
โ ุฑุณุงุฆู ูุงุถุญุฉ ุนู ุงููุชุงุฆุฌ
```

## ุฎุทูุงุช ุงูุชุทุจูู

1. **ุชุทุจูู Migration ุงูุฌุฏูุฏ:**
   ```bash
   supabase db push
   ```

2. **ุงุฎุชุจุงุฑ ุฒุฑ "ุญุฐู ุฌููุน ุงูุญุณุงุจุงุช":**
   - ุงูุชุญ ุงูุญูุงุฑ
   - ุงูุชุจ ูุต ุงูุชุฃููุฏ
   - ุงุถุบุท ุงูุฒุฑ
   - ุณุชุนูู ุงูุนูููุฉ ุจูุฌุงุญ

3. **ูุฑุงูุจุฉ ุงููุชุงุฆุฌ:**
   - ุดุฑูุท ุงูุชูุฏู ุณูุชุญุฑู
   - ุณุชุธูุฑ ุงููุชุงุฆุฌ ุงูููุงุฆูุฉ
   - ุฑุณุงุฆู toast ูุงุถุญุฉ

---

**ุงูุขู ุฒุฑ "ุญุฐู ุฌููุน ุงูุญุณุงุจุงุช" ุณูุนูู ุจุดูู ูุซุงูู!** ๐
