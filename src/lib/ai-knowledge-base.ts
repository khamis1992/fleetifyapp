/**
 * قاعدة المعرفة الشاملة لنظام Fleetify
 * Comprehensive Knowledge Base for Fleetify System
 * 
 * يحتوي على جميع المعلومات التي يحتاجها المساعد الذكي للإجابة على أسئلة الموظفين
 */

export const SYSTEM_KNOWLEDGE_BASE = `
# نظام Fleetify - دليل المساعد الذكي

## نظرة عامة على النظام
نظام Fleetify هو نظام ERP شامل لإدارة الأساطيل وتأجير السيارات. يتضمن النظام إدارة المركبات، العقود، العملاء، المدفوعات، الفواتير، المخالفات المرورية، الصيانة، الموارد البشرية، والمحاسبة.

---

## 1. إدارة المركبات (Fleet Management)

### الوصول إلى صفحة المركبات:
- من القائمة الجانبية: **إدارة الأسطول** → **المركبات**
- الرابط المباشر: /fleet

### إضافة مركبة جديدة:
1. اذهب إلى صفحة المركبات
2. اضغط على زر **"إضافة مركبة"**
3. أدخل بيانات المركبة:
   - رقم اللوحة (مطلوب)
   - الماركة والموديل
   - سنة الصنع
   - اللون
   - رقم الشاسيه
   - نوع الوقود
   - ناقل الحركة
   - السعر اليومي/الأسبوعي/الشهري
4. اضغط **"حفظ"**

### تعديل بيانات مركبة:
1. ابحث عن المركبة في القائمة
2. اضغط على صف المركبة لفتح التفاصيل
3. اضغط على **"تعديل"**
4. عدّل البيانات المطلوبة
5. اضغط **"حفظ"**

### تغيير حالة المركبة:
1. اذهب إلى صفحة تفاصيل المركبة
2. اضغط على بادج الحالة في الأعلى
3. اختر الحالة الجديدة:
   - **متاحة** - جاهزة للتأجير
   - **مؤجرة** - لديها عقد نشط
   - **صيانة** - في الصيانة
   - **خارج الخدمة** - معطلة
   - **محجوزة** - محجوزة لعميل

### تجديد تأمين مركبة:
1. اذهب إلى صفحة تفاصيل المركبة
2. اختر تبويب **"التأمين والاستمارة"**
3. اضغط **"إضافة تأمين"**
4. أدخل بيانات التأمين:
   - شركة التأمين
   - رقم البوليصة
   - تاريخ البداية والنهاية
   - قسط التأمين
   - مبلغ التغطية
5. اضغط **"حفظ التأمين"**

### تجديد استمارة المركبة:
1. اذهب إلى صفحة تفاصيل المركبة
2. اختر تبويب **"التأمين والاستمارة"**
3. اضغط **"إضافة استمارة"**
4. أدخل بيانات الاستمارة:
   - رقم الاستمارة
   - تاريخ الإصدار
   - تاريخ الانتهاء
   - جهة الإصدار
5. اضغط **"حفظ"**

### عرض تقارير الأسطول:
1. من القائمة: **إدارة الأسطول** → **التقارير**
2. تشمل التقارير:
   - تقرير استخدام المركبات
   - تقرير الصيانة
   - تقرير التأمين والاستمارة
   - تقرير الأداء المالي

---

## 2. إدارة العقود (Contracts)

### إنشاء عقد جديد:
1. من القائمة: **العقود** → **إضافة عقد**
2. اختر نوع العقد (يومي/أسبوعي/شهري)
3. اختر العميل أو أضف عميل جديد
4. اختر المركبة المتاحة
5. حدد تاريخ البداية والنهاية
6. راجع السعر والإجمالي
7. اضغط **"إنشاء العقد"**

### البحث عن عقد:
1. اذهب إلى صفحة العقود
2. استخدم خانة البحث للبحث بـ:
   - رقم العقد
   - اسم العميل
   - رقم اللوحة

### تمديد عقد:
1. افتح تفاصيل العقد
2. اضغط **"تمديد العقد"**
3. حدد مدة التمديد
4. راجع المبلغ الإضافي
5. اضغط **"تأكيد التمديد"**

### إنهاء عقد:
1. افتح تفاصيل العقد
2. اضغط **"إنهاء العقد"**
3. حدد تاريخ الإنهاء الفعلي
4. سجّل قراءة العداد
5. حدد حالة المركبة
6. اضغط **"تأكيد الإنهاء"**

---

## 3. إدارة العملاء (Customers)

### إضافة عميل جديد:
1. من القائمة: **العملاء** → **إضافة عميل**
2. أدخل البيانات:
   - الاسم الكامل
   - رقم الهاتف
   - البريد الإلكتروني
   - الهوية/جواز السفر
   - رقم رخصة القيادة
   - العنوان
3. اضغط **"حفظ"**

### البحث عن عميل:
1. اذهب إلى صفحة العملاء
2. ابحث بالاسم أو رقم الهاتف أو رقم الهوية

### عرض كشف حساب عميل:
1. افتح صفحة تفاصيل العميل
2. اختر تبويب **"الحساب المالي"**
3. يظهر الرصيد والحركات المالية

---

## 4. المدفوعات وسندات القبض (Payments)

### تسجيل دفعة جديدة:
1. من القائمة: **المالية** → **المدفوعات**
2. اضغط **"سند قبض جديد"**
3. اختر نوع السند (قبض/صرف)
4. اختر العميل أو المورد
5. أدخل المبلغ
6. اختر طريقة الدفع (نقدي/تحويل/شيك)
7. أدخل الوصف
8. اضغط **"حفظ"**

### إرسال سند قبض عبر واتساب:
1. اذهب إلى قائمة المدفوعات
2. ابحث عن الدفعة المطلوبة
3. اضغط على أيقونة **واتساب** (الأخضر)
4. سيفتح واتساب ويب مع رسالة السند

### حذف دفعة:
1. اذهب إلى قائمة المدفوعات
2. اضغط على أيقونة **الحذف** (الأحمر)
3. أكد الحذف

### تسجيل دفعة سريعة:
1. من القائمة: **المالية** → **تسجيل سريع**
2. اختر الفاتورة
3. أدخل المبلغ
4. اختر طريقة الدفع
5. اضغط **"تسجيل الدفعة"**

---

## 5. الفواتير (Invoices)

### إنشاء فاتورة:
1. من القائمة: **المالية** → **الفواتير**
2. اضغط **"فاتورة جديدة"**
3. اختر العميل
4. أضف البنود
5. اضغط **"حفظ"**

### طباعة فاتورة:
1. افتح تفاصيل الفاتورة
2. اضغط **"طباعة"**

---

## 6. المخالفات المرورية (Traffic Violations)

### تسجيل مخالفة:
1. من القائمة: **الأسطول** → **المخالفات**
2. اضغط **"إضافة مخالفة"**
3. اختر المركبة
4. أدخل تفاصيل المخالفة:
   - تاريخ المخالفة
   - نوع المخالفة
   - قيمة الغرامة
   - مكان المخالفة
5. اضغط **"حفظ"**

### تحميل مخالفة على عميل:
1. افتح تفاصيل المخالفة
2. اختر **"تحميل على عميل"**
3. اختر العميل من العقد النشط
4. أكد التحميل

---

## 7. الصيانة (Maintenance)

### جدولة صيانة:
1. من القائمة: **الأسطول** → **الصيانة**
2. اضغط **"إضافة صيانة"**
3. اختر المركبة
4. حدد نوع الصيانة
5. حدد التاريخ المتوقع
6. اضغط **"حفظ"**

### تسجيل صيانة مكتملة:
1. افتح طلب الصيانة
2. أدخل التكلفة الفعلية
3. أدخل الملاحظات
4. غيّر الحالة إلى **"مكتمل"**
5. اضغط **"حفظ"**

---

## 8. إدارة المهام (Tasks)

### إنشاء مهمة جديدة:
1. من القائمة: **المهام**
2. اضغط **"مهمة جديدة"**
3. أدخل عنوان المهمة
4. حدد الأولوية
5. اختر الموظف المسؤول
6. حدد تاريخ الاستحقاق
7. اضغط **"حفظ"**

### متابعة المهام:
1. اذهب إلى صفحة المهام
2. استخدم الفلاتر للتصفية حسب:
   - الحالة
   - الأولوية
   - الموظف

---

## 9. الموارد البشرية (HR)

### إضافة موظف:
1. من القائمة: **الموارد البشرية** → **الموظفين**
2. اضغط **"إضافة موظف"**
3. أدخل البيانات الشخصية
4. حدد القسم والمنصب
5. حدد الراتب
6. اضغط **"حفظ"**

### تسجيل الحضور:
1. من القائمة: **الموارد البشرية** → **الحضور**
2. سجّل وقت الحضور والانصراف

### إدارة الإجازات:
1. من القائمة: **الموارد البشرية** → **الإجازات**
2. قدّم طلب إجازة أو راجع الطلبات

---

## 10. المحاسبة (Accounting)

### دليل الحسابات:
- الموقع: **المالية** → **دليل الحسابات**
- يحتوي على شجرة الحسابات المحاسبية

### القيود اليومية:
1. من القائمة: **المالية** → **القيود**
2. اضغط **"قيد جديد"**
3. أدخل الحسابات المدينة والدائنة
4. تأكد من توازن القيد
5. اضغط **"حفظ"**

### التقارير المالية:
- ميزان المراجعة
- قائمة الدخل
- الميزانية العمومية
- كشف حساب

---

## 11. التقارير

### أنواع التقارير المتاحة:
1. **تقارير الأسطول**: استخدام المركبات، الصيانة، التأمين
2. **تقارير مالية**: الإيرادات، المصروفات، الأرباح
3. **تقارير العملاء**: كشوفات الحساب، المديونية
4. **تقارير العقود**: العقود النشطة، المنتهية

### تصدير تقرير:
1. اذهب إلى صفحة التقارير المطلوبة
2. اختر نوع التقرير
3. حدد الفترة الزمنية
4. اضغط **"تصدير"** أو **"طباعة"**

---

## 12. الإعدادات

### إعدادات الشركة:
- الموقع: **الإعدادات** → **الشركة**
- تعديل بيانات الشركة، الشعار، التوقيعات

### إدارة المستخدمين:
- الموقع: **الإعدادات** → **المستخدمين**
- إضافة مستخدمين، تعيين صلاحيات

### الصلاحيات:
- الموقع: **الإعدادات** → **الصلاحيات**
- تعريف الأدوار والصلاحيات

---

## نصائح عامة

### اختصارات مفيدة:
- **Ctrl+K**: فتح البحث السريع
- **Esc**: إغلاق النافذة المنبثقة

### حل المشاكل الشائعة:

**مشكلة: لا أستطيع إنشاء عقد**
- تأكد من وجود مركبة متاحة
- تأكد من اختيار عميل
- تأكد من تحديد التواريخ

**مشكلة: لا أستطيع تسجيل دفعة**
- تأكد من تحديد العميل أو الفاتورة
- تأكد من إدخال المبلغ
- تأكد من اختيار طريقة الدفع

**مشكلة: لا تظهر المركبة في القائمة**
- تأكد من أن حالتها "متاحة"
- جرّب تحديث الصفحة

---

## للمساعدة الإضافية
- اضغط على أيقونة **؟** في أي صفحة للحصول على مساعدة سياقية
- تواصل مع مدير النظام للمشاكل التقنية
`;

export const getSystemPrompt = () => `أنت مساعد ذكي متخصص في نظام Fleetify لإدارة الأساطيل وتأجير السيارات.

مهمتك:
1. الإجابة على أسئلة الموظفين حول كيفية استخدام النظام
2. شرح الخطوات بشكل واضح ومرتب
3. تقديم نصائح مفيدة لتحسين الإنتاجية

قواعد مهمة:
- أجب دائماً باللغة العربية
- استخدم خطوات مرقمة عند شرح الإجراءات
- كن موجزاً ومحدداً
- إذا لم تعرف الإجابة، اطلب من المستخدم التواصل مع مدير النظام
- لا تختلق ميزات غير موجودة

المعلومات المتاحة لديك:
${SYSTEM_KNOWLEDGE_BASE}

أجب على أسئلة المستخدم بناءً على هذه المعلومات.`;

