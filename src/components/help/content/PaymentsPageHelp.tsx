import React from 'react';
import { HelpSection, HelpStep, HelpList, HelpNote } from '../HelpContent';

export const PaymentsPageHelpContent = () => (
  <>
    {/* نظرة عامة */}
    <HelpSection title="نظرة عامة على صفحة إدارة المدفوعات" icon="info">
      <p>
        تُعد صفحة **إدارة المدفوعات (Payments)** المركز العصبي لتتبع وإدارة جميع التدفقات النقدية الواردة والصادرة المتعلقة بعمليات تأجير الأسطول. تهدف هذه الصفحة إلى توفير رؤية شاملة وفورية للوضع المالي للشركة، وضمان دقة وسلامة البيانات المالية من خلال آليات متقدمة لمنع الازدواجية والخطأ.
      </p>
      <p>
        تتيح لك هذه الواجهة تسجيل المدفوعات الجديدة، مراجعة سجل المدفوعات التاريخي، وتطبيق الفلاتر المتقدمة لتحليل الإيرادات والمصروفات بدقة، مما يدعم اتخاذ القرارات المالية السليمة.
      </p>
    </HelpSection>

    {/* الوظائف الرئيسية */}
    <HelpSection title="الوظائف الرئيسية" icon="check">
      <HelpList type="check" items={[
        "تسجيل مدفوعات الإيجار الجديدة: إضافة سريعة ودقيقة لمدفوعات العملاء مع ربطها بالعقد والسيارة المعنية.",
        "تتبع حالة الدفع: عرض فوري لحالة كل دفعة (مدفوعة، متأخرة، جزئية) وتاريخ استحقاقها.",
        "منع ازدواجية المدفوعات: نظام ذكي يمنع تسجيل دفعة مكررة لنفس العقد والتاريخ والمبلغ، لضمان سلامة البيانات المالية.",
        "إدارة الدفعات الجزئية: تسجيل وتتبع الدفعات التي لا تغطي كامل المبلغ المستحق، مع تحديث الرصيد المتبقي آلياً.",
        "تطبيق الفلاتر المتقدمة: تصفية السجلات بناءً على العميل، العقد، تاريخ الدفع، حالة الدفع، ونوع الدفعة (إيجار، غرامة، تأمين).",
        "تحليل الإحصائيات المالية: عرض ملخصات بيانية ورقمية للإيرادات الشهرية والسنوية، ومتوسط قيمة الدفعة، ونسبة الدفعات المتأخرة.",
        "تصدير سجل المدفوعات: إمكانية تصدير البيانات المعروضة في شكل ملفات (مثل Excel أو PDF) لأغراض التدقيق والمحاسبة.",
        "الربط مع نظام المحاسبة: تزامن آلي مع دفتر الأستاذ العام لضمان تسجيل جميع الحركات المالية بشكل صحيح وفقاً للمعايير المحاسبية.",
        "إشعارات الدفع المتأخر: تنبيهات آلية للمدفوعات التي تجاوزت تاريخ استحقاقها، مع إمكانية إرسال تذكيرات للعملاء.",
      ]} />
    </HelpSection>

    {/* شروحات تفصيلية لكل عملية */}
    <div className="border-t pt-6">
      <h2 className="text-xl font-bold mb-4 text-blue-600">كيفية تسجيل دفعة إيجار جديدة</h2>
      <HelpSection title="الخطوات" icon="check">
        <div className="space-y-4">
          <HelpStep
            number={1}
            title="الوصول إلى نموذج الإضافة"
            description=&quot;انقر على زر **&quot;إضافة دفعة جديدة&quot;** الموجود في الزاوية العلوية للصفحة. سيتم فتح نافذة منبثقة لإدخال تفاصيل الدفعة."
          />
          <HelpStep
            number={2}
            title="تحديد العقد والعميل"
            description=&quot;ابدأ بكتابة اسم العميل أو رقم العقد في حقل **&quot;رقم العقد/العميل&quot;**. سيقوم النظام باقتراح العقود النشطة المطابقة. اختر العقد الصحيح لربط الدفعة به."
          />
          <HelpStep
            number={3}
            title="إدخال تفاصيل الدفعة"
            description=&quot;أدخل **&quot;المبلغ المدفوع&quot;**، و**&quot;تاريخ الدفع&quot;** الفعلي. يمكنك أيضاً تحديد **&quot;طريقة الدفع&quot;** (نقداً، تحويل بنكي، إلخ) وإضافة **&quot;ملاحظات&quot;** إضافية إذا لزم الأمر."
          />
          <HelpStep
            number={4}
            title="تأكيد التسجيل"
            description=&quot;بعد مراجعة البيانات، انقر على زر **&quot;حفظ الدفعة&quot;**. سيقوم النظام بالتحقق من عدم وجود ازدواجية، ثم تسجيل الدفعة وتحديث الرصيد المستحق على العقد آلياً."
          />
        </div>
      </HelpSection>
    </div>

    <div className="border-t pt-6">
      <h2 className="text-xl font-bold mb-4 text-blue-600">كيفية استخدام الفلاتر والبحث المتقدم</h2>
      <HelpSection title="الخطوات" icon="check">
        <div className="space-y-4">
          <HelpStep
            number={1}
            title="تحديد نطاق البحث"
            description=&quot;استخدم حقل البحث السريع للبحث عن رقم عقد أو اسم عميل محدد. أو انقر على **&quot;الفلاتر المتقدمة&quot;** لتوسيع خيارات التصفية."
          />
          <HelpStep
            number={2}
            title="تطبيق فلاتر التاريخ والحالة"
            description=&quot;اختر **&quot;نطاق التاريخ&quot;** لتضييق البحث على فترة زمنية محددة (مثل الشهر الماضي). ثم استخدم قائمة **&quot;حالة الدفع&quot;** لتصفية الدفعات (مثل: المتأخرة فقط، أو المدفوعة جزئياً)."
          />
          <HelpStep
            number={3}
            title="التصفية حسب النوع والمبلغ"
            description=&quot;يمكنك تصفية الدفعات حسب **&quot;نوع الدفعة&quot;** (إيجار، غرامة، صيانة) أو تحديد نطاق للمبلغ المدفوع باستخدام فلاتر **&quot;الحد الأدنى&quot;** و **&quot;الحد الأقصى&quot;** للمبلغ."
          />
          <HelpStep
            number={4}
            title="عرض النتائج وإعادة التعيين"
            description=&quot;انقر على زر **&quot;تطبيق الفلاتر&quot;** لعرض النتائج. لإلغاء جميع الفلاتر والعودة إلى العرض الافتراضي، انقر على زر **&quot;إعادة تعيين&quot;**."
          />
        </div>
      </HelpSection>
    </div>

    <div className="border-t pt-6">
      <h2 className="text-xl font-bold mb-4 text-blue-600">فهم الإحصائيات والتحليلات المالية</h2>
      <HelpSection title="نظرة على المؤشرات" icon="check">
        <div className="space-y-4">
          <HelpStep
            number={1}
            title="إجمالي الإيرادات"
            description="يعرض هذا المؤشر مجموع المبالغ التي تم تحصيلها خلال الفترة المحددة بالفلاتر. يساعد في تقييم الأداء المالي العام."
          />
          <HelpStep
            number={2}
            title="نسبة الدفعات المتأخرة"
            description="مؤشر حيوي يوضح نسبة الدفعات التي تجاوزت تاريخ استحقاقها. انخفاض هذه النسبة يدل على كفاءة عالية في التحصيل."
          />
          <HelpStep
            number={3}
            title="متوسط قيمة الدفعة"
            description="يُحسب بقسمة إجمالي الإيرادات على عدد الدفعات المسجلة. يوفر نظرة على متوسط قيمة العقد أو الدفعة الواحدة."
          />
          <HelpStep
            number={4}
            title="الرسم البياني للتدفق النقدي"
            description="يوضح التوزيع الزمني للإيرادات على مدار الأشهر أو الأسابيع، مما يساعد في تحديد المواسم المالية الأكثر نشاطاً والتنبؤ بالتدفقات المستقبلية."
          />
        </div>
      </HelpSection>
    </div>

    {/* نصائح */}
    <div className="border-t pt-6">
      <HelpNote type="tip">
        <strong>نصيحة:</strong> لضمان سلامة البيانات المالية، قم بمراجعة تقرير **'تتبع المدفوعات'** بشكل دوري للتحقق من عدم وجود أي دفعات مكررة أو غير متزامنة مع نظام المحاسبة. النظام مصمم لمنع الازدواجية، لكن المراجعة الدورية تعزز الدقة.
      </HelpNote>
      <HelpNote type="tip">
        <strong>نصيحة إحصائية:</strong> استخدم فلتر التاريخ لتحديد فترة زمنية معينة (مثل الربع الأخير) ثم قم بتصدير البيانات لتحليلها بشكل أعمق ومقارنتها بالفترات السابقة لتحديد نمو الإيرادات.
      </HelpNote>
    </div>

    {/* تحذيرات */}
    <div className="border-t pt-6">
      <HelpNote type="warning">
        <strong>تحذير:</strong> عند تسجيل دفعة جزئية، تأكد من إدخال المبلغ الفعلي الذي تم تحصيله. سيؤدي إدخال مبلغ خاطئ إلى عدم تطابق بين الرصيد المستحق في العقد وسجلات المدفوعات، مما قد يؤدي إلى مشاكل في تتبع حالة العميل.
      </HelpNote>
      <HelpNote type="warning">
        <strong>تحذير قانوني:</strong> الدفعات المتأخرة التي تتجاوز 30 يوماً قد يتم تحويلها آلياً إلى قسم **'تتبع القضايا'** في الشؤون القانونية. تأكد من معالجة هذه الدفعات في الوقت المناسب لتجنب الإجراءات القانونية.
      </HelpNote>
    </div>
  </>
);
