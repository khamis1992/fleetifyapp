import React from 'react';
import { HelpSection, HelpStep, HelpList, HelpNote } from '../HelpContent';

/**
 * محتوى المساعدة لصفحة Dashboard (لوحة التحكم) في تطبيق Fleetify.
 * يقدم نظرة عامة، الوظائف الرئيسية، شروحات تفصيلية للعمليات، ونصائح وتحذيرات.
 */
export const DashboardPageHelpContent = () => (
  <>
    {/* نظرة عامة */}
    <HelpSection title="نظرة عامة شاملة على صفحة Dashboard" icon="info">
      <p>
        صفحة لوحة التحكم (Dashboard) هي الواجهة الرئيسية والمركز العصبي لتطبيق Fleetify، وهي مصممة لتكون نقطة البداية لكل مستخدم. هدفها الأساسي هو توفير رؤية شاملة وفورية (360 درجة) على جميع الجوانب الحيوية لإدارة أسطولك، سواء كانت تشغيلية، مالية، أو متعلقة بالصيانة والوثائق.
      </p>
      <p>
        تتميز لوحة التحكم بتصميمها الديناميكي الذي يعرض ملخصات وإحصائيات حية ومحدثة باستمرار. هذه البيانات تغطي الجوانب الأكثر أهمية في إدارة الأسطول، مما يتيح لك اتخاذ قرارات سريعة ومستنيرة دون الحاجة للتنقل بين صفحات متعددة. إنها أداة لا غنى عنها للمديرين والمشرفين لمراقبة الأداء العام للشركة وتحديد الأولويات اليومية بكفاءة عالية.
      </p>
      <p>
        تتكون لوحة التحكم من عدة بطاقات (Widgets) قابلة للتخصيص، كل بطاقة تركز على مؤشر أداء رئيسي (KPI) أو مجموعة من البيانات ذات الصلة. هذا التنظيم يضمن أن المعلومات الأكثر أهمية تقع في صدارة اهتمامك دائماً، مما يسهل عملية المراقبة واتخاذ الإجراءات التصحيحية اللازمة في الوقت المناسب.
      </p>
      <p>
        البيانات المعروضة في لوحة التحكم يتم جلبها وتحديثها بشكل مستمر من جميع وحدات النظام الأخرى (مثل المالية، الصيانة، المركبات، والعقود)، مما يضمن أنك تعمل دائماً بأحدث المعلومات المتاحة. يجب على المستخدمين الجدد قضاء بعض الوقت في فهم كيفية قراءة هذه المؤشرات وكيفية ارتباطها ببعضها البعض.
      </p>
    </HelpSection>

    {/* الوظائف الرئيسية */}
    <HelpSection title="الوظائف الرئيسية ومكونات لوحة التحكم" icon="check">
      <HelpList type="check" items={[
        "<strong>ملخص الأداء المالي:</strong> يعرض بوضوح إجمالي الإيرادات والمصروفات وصافي الربح للفترة المحددة. يتضمن رسوماً بيانية للمقارنة مع الفترات السابقة لتحديد الاتجاهات المالية الرئيسية ومراقبة السيولة النقدية. هذه البطاقة هي مؤشر الصحة المالية للأسطول.",
        "<strong>حالة الأسطول التفصيلية:</strong> يوفر إحصائيات دقيقة ومحدثة حول عدد المركبات العاملة (Active)، المتوقفة (Off-Road)، وتلك التي تحتاج إلى صيانة عاجلة أو التي قاربت وثائقها على الانتهاء (تأمين، ترخيص، فحص فني). هذه البطاقة هي مؤشر فوري على جاهزية الأسطول التشغيلية.",
        "<strong>التنبيهات والإشعارات العاجلة:</strong> نظام تنبيهات ذكي يصنف المهام القادمة حسب الأولوية (عاجل، هام، عادي). يشمل تنبيهات لتجديد التراخيص، مواعيد الصيانة الدورية، وانتهاء عقود التأمين أو عقود الإيجار. النقر على التنبيه يوجهك مباشرة إلى صفحة الإجراء لتنفيذ المعالجة اللازمة.",
        "<strong>مؤشرات الأداء الرئيسية (KPIs) التفاعلية:</strong> مجموعة من الرسوم البيانية التفاعلية التي توضح مقاييس الأداء مثل معدلات استهلاك الوقود، متوسط المسافة المقطوعة لكل مركبة، ومعدل استخدام الأسطول الكلي (Utilization Rate). يمكنك التفاعل مع هذه الرسوم البيانية للحصول على تفاصيل إضافية عن البيانات المصدرية.",
        "<strong>أحدث المعاملات والأنشطة:</strong> جدول مصغر يعرض آخر 10 معاملات مالية أو تشغيلية تم تسجيلها في النظام، مع تفاصيل موجزة (مثل التاريخ، المبلغ، الوصف). النقر على أي معاملة يفتح صفحة التفاصيل الكاملة لها للمراجعة والتدقيق.",
        "<strong>الوصول السريع (Quick Actions):</strong> شريط يحتوي على أزرار اختصار للوظائف الأكثر استخداماً والتي تتطلب إدخالاً سريعاً للبيانات، مثل 'تسجيل مصروف جديد'، 'إضافة سائق'، أو 'إنشاء عقد إيجار جديد'. هذه الأزرار تسرع من سير العمل اليومي وتقلل من خطوات التنقل.",
        "<strong>توزيع المركبات حسب الحالة:</strong> رسم بياني دائري أو شريطي يوضح النسبة المئوية للمركبات الجاهزة للعمل، في الصيانة، أو خارج الخدمة لأي سبب آخر. هذا يساعد في تحديد الاختناقات التشغيلية وتوزيع الموارد بشكل أفضل.",
        "<strong>تصفية البيانات المتقدمة:</strong> إمكانية تصفية البيانات المعروضة حسب الفترة الزمنية (اليوم، الأسبوع، الشهر، السنة، أو نطاق مخصص) أو حسب نوع الأسطول أو الفرع أو حتى نوع المركبة. الفلاتر تسمح بتخصيص العرض حسب الحاجة التحليلية للمستخدم.",
        "<strong>بطاقة المهام المجدولة:</strong> عرض للمهام التي تم جدولتها مسبقاً من قبل المستخدمين الآخرين أو النظام، مثل مهام المتابعة أو الفحص الدوري. هذه البطاقة تساعد في التخطيط للمهام القادمة وتوزيع الأعباء.",
        "<strong>ملخص أداء السائقين:</strong> بطاقة تعرض أفضل وأسوأ السائقين أداءً بناءً على معايير محددة مثل الحوادث، المخالفات، أو كفاءة استهلاك الوقود. هذا يوفر رؤية سريعة لبرامج التدريب والمكافآت ويساعد في تحديد السائقين الذين يحتاجون إلى دعم إضافي.",
      ]} />
    </HelpSection>

    {/* فهم الإحصائيات والمؤشرات */}
    <div className="border-t pt-6">
      <h2 className="text-xl font-bold mb-4 text-blue-600">فهم وتحليل الإحصائيات والمؤشرات الرئيسية</h2>
      <HelpSection title="تحليل البيانات المعروضة لاتخاذ القرار" icon="chart">
        <p>
          فهم دلالة المؤشرات المعروضة هو مفتاح الإدارة الناجحة. إليك كيفية تحليل بعض المؤشرات الهامة:
        </p>
        <HelpList type="bullet" items={[
          "<strong>تحليل الإيرادات مقابل المصروفات:</strong> يتم عرض هذا المؤشر عادةً في رسم بياني شريطي أو خطي. يجب مراقبة الفجوة بينهما. إذا كانت المصروفات تزداد بوتيرة أسرع من الإيرادات، فهذا يستدعي مراجعة فورية لسياسات الإنفاق وكفاءة التشغيل. انتبه بشكل خاص للمصروفات غير المخطط لها أو المصروفات المتكررة ذات القيمة العالية.",
          "<strong>مؤشر المركبات المتوقفة (Off-Road):</strong> هذا الرقم يمثل خسارة محتملة في الإيرادات. يجب أن يكون الهدف هو تقليل هذا الرقم إلى أدنى حد ممكن. ارتفاعه يشير إلى ضعف في إدارة الصيانة أو تأخر في تجديد الوثائق. استخدم خاصية 'الوصول السريع' لجدولة الصيانة فوراً وتقليل وقت التوقف.",
          "<strong>معدل استخدام الأسطول (Utilization Rate):</strong> يوضح مدى فعالية استخدامك لمركباتك. المعدل المنخفض يعني أن لديك أصولاً غير مستغلة. يمكن استخدام هذا المؤشر لتحديد ما إذا كنت بحاجة لتقليص حجم الأسطول أو زيادة جهود التسويق. المعدل المثالي يختلف حسب نوع العمل والقطاع الذي تعمل فيه.",
          "<strong>التنبيهات الحمراء (Critical Alerts):</strong> هذه التنبيهات هي إشارات خطر. يجب التعامل معها كأولوية قصوى لأنها قد تؤدي إلى غرامات قانونية أو توقف تام لمركبة عن العمل. لا تؤجل معالجة أي تنبيه أحمر، وقم بتفويض المهمة إذا لزم الأمر وتأكد من المتابعة.",
          "<strong>مقارنة الأداء (Performance Comparison):</strong> توفر لوحة التحكم مقارنات مع فترات سابقة (شهر، ربع، سنة). استخدم هذه المقارنات لتقييم أثر التغييرات الإدارية أو الموسمية على أداء أسطولك. إذا كان هناك انخفاض حاد، انتقل إلى التقارير التفصيلية للتحقيق في الأسباب الجذرية.",
        ]} />
      </HelpSection>
    </div>

    {/* شرح الفلاتر والبحث */}
    <div className="border-t pt-6">
      <h2 className="text-xl font-bold mb-4 text-blue-600">شرح الفلاتر وخيارات البحث المتقدمة</h2>
      <HelpSection title="تخصيص العرض باستخدام الفلاتر" icon="filter">
        <p>
          تسمح لك الفلاتر بتخصيص البيانات المعروضة في لوحة التحكم لتناسب احتياجاتك الحالية، مما يتيح لك التركيز على قطاعات معينة من الأسطول أو فترات زمنية محددة.
        </p>
        <HelpSection title="الخطوات التفصيلية لاستخدام الفلاتر" icon="check">
          <div className="space-y-4">
            <HelpStep number={1} title="تحديد نطاق التاريخ" description="استخدم قائمة 'الفترة الزمنية' لاختيار نطاق زمني محدد (مثلاً: 'الربع الحالي' أو 'السنة المالية'). هذا الفلتر هو الأقوى ويؤثر على جميع الإحصائيات المالية والتشغيلية المعروضة. يمكنك أيضاً تحديد نطاق مخصص باستخدام التقويم المنبثق." />
            <HelpStep number={2} title="فلترة حسب الفرع/الموقع" description="إذا كان لديك فروع متعددة، استخدم فلتر 'الفرع' لعرض بيانات الفرع الذي تديره فقط. هذا الفلتر ضروري للمديرين الإقليميين لتقييم أداء فروعهم بشكل مستقل ومقارنته مع الفروع الأخرى." />
            <HelpStep number={3} title="فلترة حسب نوع الأسطول" description="في حال إدارة أنواع مختلفة من الأساطيل (مثل: سيارات الركاب، الشاحنات، المعدات الثقيلة)، استخدم هذا الفلتر لعزل البيانات الخاصة بكل نوع وتحليل أدائه بشكل منفصل." />
            <HelpStep number={4} title="تطبيق الفلتر" description="بعد اختيار جميع الفلاتر المطلوبة، تأكد من النقر على زر 'تطبيق' أو 'Apply' لضمان تحديث جميع الرسوم البيانية والمؤشرات بناءً على اختياراتك. سيتم حفظ هذه الفلاتر مؤقتاً لجلسة العمل الحالية." />
            <HelpStep number={5} title="إعادة تعيين الفلاتر" description="لإلغاء جميع الفلاتر والعودة إلى العرض الافتراضي (عادةً آخر 30 يوماً لجميع الفروع)، انقر على زر 'إعادة تعيين' أو 'Reset'. هذا يعيد لوحة التحكم إلى حالتها الأصلية." />
          </div>
        </HelpSection>
      </HelpSection>
    </div>

    {/* شروحات تفصيلية لكل عملية */}
    <div className="border-t pt-6">
      <h2 className="text-xl font-bold mb-4 text-blue-600">شروحات تفصيلية للعمليات الهامة</h2>

      {/* العملية 1: استخدام أزرار الوصول السريع */}
      <HelpSection title="استخدام أزرار الوصول السريع (Quick Actions)" icon="zap">
        <p>
          أزرار الوصول السريع مصممة لتوفير الوقت في إنجاز المهام المتكررة والضرورية لإدارة الأسطول اليومية.
        </p>
        <HelpSection title="الخطوات" icon="check">
          <div className="space-y-4">
            <HelpStep number={1} title="تحديد الإجراء المطلوب" description="ابحث عن شريط 'الوصول السريع' في الجزء العلوي أو الجانبي من لوحة التحكم. ستجد أزراراً مثل 'تسجيل مصروف' أو 'إضافة سائق جديد'." />
            <HelpStep number={2} title="تنفيذ الإجراء" description="انقر على الزر المطلوب. سيتم فتح نافذة منبثقة (Modal) أو توجيهك مباشرة إلى صفحة إدخال البيانات ذات الصلة لتقليل خطوات التنقل." />
            <HelpStep number={3} title="إكمال البيانات بدقة" description="أدخل جميع البيانات المطلوبة في النموذج الجديد (مثل المبلغ، التاريخ، الوصف، والمركبة المرتبطة للمصروف) ثم انقر على 'حفظ'. تأكد من مراجعة البيانات قبل الحفظ لضمان دقة السجلات المالية." />
            <HelpStep number={4} title="مراجعة التأثير الفوري" description="بعد الحفظ، سيتم تحديث لوحة التحكم تلقائياً. تحقق من قسم 'أحدث المعاملات' للتأكد من تسجيل العملية بنجاح وظهورها في الملخصات المالية والتشغيلية." />
          </div>
        </HelpSection>
      </HelpSection>

      {/* العملية 2: التعامل مع التنبيهات العاجلة */}
      <HelpSection title="التعامل الفعال مع التنبيهات العاجلة" icon="bell">
        <p>
          يجب التعامل مع التنبيهات العاجلة بشكل فوري لضمان استمرارية العمل وتجنب المشاكل القانونية أو التشغيلية.
        </p>
        <HelpSection title="الخطوات" icon="check">
          <div className="space-y-4">
            <HelpStep number={1} title="تحديد التنبيه ذي الأولوية" description="في قسم 'التنبيهات العاجلة'، انقر على التنبيه الذي يحمل علامة 'خطر' (عادةً باللون الأحمر) مثل 'انتهاء تأمين المركبة رقم 123'. يتم ترتيب التنبيهات حسب قرب موعد الاستحقاق والأهمية." />
            <HelpStep number={2} title="الانتقال إلى صفحة الإجراء" description="سيتم توجيهك مباشرة إلى صفحة إدارة المركبة أو الوثيقة المعنية لتنفيذ الإجراء التصحيحي اللازم." />
            <HelpStep number={3} title="تنفيذ الإجراء التصحيحي وتحديث النظام" description="قم بتجديد الوثيقة خارج النظام (مثلاً: تجديد التأمين)، ثم قم بتحميل الوثيقة الجديدة وتحديث تاريخ الانتهاء في النظام ليعكس التغيير ويغلق التنبيه." />
            <HelpStep number={4} title="إغلاق التنبيه" description="بمجرد تحديث البيانات بنجاح، سيتم إغلاق التنبيه تلقائياً من قائمة التنبيهات العاجلة، مما يعكس تحديث حالة الأسطول ويزيل علامة الخطر." />
          </div>
        </HelpSection>
      </HelpSection>

      {/* العملية 3: تحليل أداء مركبة معينة من لوحة التحكم */}
      <HelpSection title="تحليل أداء مركبة معينة من لوحة التحكم" icon="car">
        <p>
          يمكنك الانتقال مباشرة من الإحصائيات العامة إلى تفاصيل مركبة محددة لمراجعة أدائها وسجلها بشكل معمق.
        </p>
        <HelpSection title="الخطوات" icon="check">
          <div className="space-y-4">
            <HelpStep number={1} title="تحديد المؤشر ذي الصلة" description="انظر إلى مؤشر 'المركبات التي تحتاج صيانة'. إذا كان الرقم مرتفعاً، انقر على هذا المؤشر لعرض قائمة المركبات المعنية." />
            <HelpStep number={2} title="اختيار المركبة للمراجعة" description="ستظهر قائمة بالمركبات المعنية. انقر على رقم لوحة المركبة التي تريد تحليلها (مثلاً: 'أ ب ج 123')." />
            <HelpStep number={3} title="مراجعة سجل المركبة التفصيلي" description="سيتم فتح صفحة تفاصيل المركبة، حيث يمكنك مراجعة سجل الصيانة الكامل، استهلاك الوقود التاريخي، وتاريخ الحوادث والوثائق لاتخاذ قرار بشأنها (مثلاً: إخراجها من الخدمة مؤقتاً أو جدولة صيانة وقائية)." />
            <HelpStep number={4} title="العودة إلى لوحة التحكم" description="استخدم زر 'العودة' في المتصفح أو قائمة التنقل للرجوع إلى لوحة التحكم بعد الانتهاء من التحليل ومتابعة باقي المؤشرات." />
          </div>
        </HelpSection>
      </HelpSection>
    </div>

    {/* نصائح */}
    <div className="border-t pt-6">
      <HelpNote type="tip">
        <strong>نصيحة للاستخدام الأمثل:</strong> قم بتسجيل الدخول إلى لوحة التحكم يومياً في بداية يوم العمل. المراجعة اليومية للإحصائيات والتنبيهات تقلل من احتمالية حدوث مفاجآت تشغيلية أو مالية غير مرغوبة. استخدم خاصية 'الوصول السريع' لإنجاز المهام الروتينية بكفاءة عالية. تذكر أن البيانات في لوحة التحكم يتم تحديثها بشكل دوري، لذا يفضل تحديث الصفحة يدوياً (F5) بعد إدخال كمية كبيرة من البيانات لضمان دقة العرض.
      </HelpNote>
    </div>

    {/* تحذيرات */}
    <div className="border-t pt-6">
      <HelpNote type="warning">
        <strong>تحذير هام:</strong> لا تعتمد على الإحصائيات المعروضة في لوحة التحكم لاتخاذ قرارات مالية كبرى دون الرجوع إلى التقارير المالية التفصيلية (مثل تقرير كشف الدخل والميزانية العمومية). لوحة التحكم تقدم ملخصاً سريعاً ومؤشرات، بينما التقارير توفر البيانات الكاملة والمدققة المطلوبة للمحاسبة والتدقيق. يجب معالجة جميع التنبيهات الحمراء خلال 24 ساعة لتجنب أي خسائر تشغيلية أو غرامات قانونية.
      </HelpNote>
    </div>
  </>
);
