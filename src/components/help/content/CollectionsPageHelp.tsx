import React from 'react';
import { HelpSection, HelpStep, HelpList, HelpNote } from '../HelpContent';

export const CollectionsPageHelpContent = () => (
  <>
    {/* نظرة عامة */}
    <HelpSection title="نظرة عامة على مركز التحصيل" icon="info">
      <p>
        مركز <strong>التحصيل (Collections)</strong> هو نظام متكامل لإدارة ومتابعة المدفوعات المستحقة من العملاء.
        يوفر أدوات ذكية لتحسين عملية التحصيل وتقليل المتأخرات.
      </p>
      <p>
        المركز يتكون من عدة أقسام رئيسية:
      </p>
      <HelpList items={[
        'لوحة المعلومات - نظرة عامة على حالة التحصيل',
        'التقويم الدفعات - جدولة المدفوعات المتوقعة',
        'قوالب التذكير - رسائل تلقائية للعملاء',
        'ذكاء الدفع - تحليلات سلوك الدفع',
        'خطط الدفع - ترتيبات دفع مرنة',
        'تذكيرات WhatsApp - إشعارات فورية',
        'رسوم التأخير - إدارة الغرامات',
        'النزاعات - معالجة الاعتراضات',
        'تقرير الأعمار - تحليل أعمار الديون',
        'تتبع المدفوعات - مراقبة حالة السداد'
      ]} />
    </HelpSection>

    {/* لوحة المعلومات */}
    <HelpSection title="لوحة معلومات التحصيل" icon="check">
      <p>
        توفر لوحة المعلومات رؤية شاملة لحالة التحصيل في شركتك:
      </p>

      <h4 className="font-semibold mt-3 mb-2">المؤشرات الرئيسية</h4>
      <HelpList items={[
        'إجمالي المستحقات - المبلغ الكلي المطلوب تحصيله',
        'المدفوعات المستحقة هذا الشهر',
        'المدفوعات المتأخرة وعددها',
        'معدل التحصيل الشهري',
        'عدد العملاء المتأخرين'
      ]} />

      <h4 className="font-semibold mt-3 mb-2">الرسوم البيانية</h4>
      <HelpList items={[
        'اتجاه التحصيل خلال الأشهر الماضية',
        'توزيع المدفوعات حسب الحالة',
        'أداء التحصيل مقارنة بالأهداف',
        'تحليل أعمار الديون'
      ]} />

      <HelpNote type="info">
        يتم تحديث لوحة المعلومات تلقائياً عند إضافة أو تعديل أي مدفوعات.
      </HelpNote>
    </HelpSection>

    {/* تقويم الدفعات */}
    <HelpSection title="تقويم الدفعات" icon="check">
      <p>
        يعرض تقويم الدفعات جميع المدفوعات المتوقعة والمستحقة في عرض تقويمي سهل القراءة.
      </p>

      <HelpStep number={1} title="عرض التقويم">
        <p>
          يمكنك التنقل بين الأشهر لعرض المدفوعات المستحقة في كل فترة.
          المدفوعات تُعرض بألوان مختلفة حسب حالتها:
        </p>
        <HelpList items={[
          'أخضر - مدفوع',
          'أصفر - مستحق قريباً (خلال أسبوع)',
          'أحمر - متأخر',
          'رمادي - قادم'
        ]} />
      </HelpStep>

      <HelpStep number={2} title="تفاصيل المدفوعات">
        <p>
          انقر على أي مدفوعة في التقويم لعرض التفاصيل الكاملة:
        </p>
        <HelpList items={[
          'اسم العميل ومعلومات الاتصال',
          'رقم العقد أو الفاتورة',
          'المبلغ المستحق',
          'تاريخ الاستحقاق',
          'الحالة الحالية',
          'سجل التذكيرات المرسلة'
        ]} />
      </HelpStep>

      <HelpStep number={3} title="إجراءات سريعة">
        <p>
          من التقويم يمكنك:
        </p>
        <HelpList items={[
          'إرسال تذكير فوري للعميل',
          'تسجيل دفعة جديدة',
          'تعديل تاريخ الاستحقاق',
          'إنشاء خطة دفع',
          'عرض سجل الدفع الكامل للعميل'
        ]} />
      </HelpStep>

      <HelpNote type="tip">
        <strong>نصيحة:</strong> استخدم التقويم للتخطيط المسبق وإرسال تذكيرات قبل موعد الاستحقاق ببضعة أيام.
      </HelpNote>
    </HelpSection>

    {/* قوالب التذكير */}
    <HelpSection title="قوالب التذكير" icon="check">
      <p>
        أنشئ قوالب رسائل جاهزة للاستخدام في تذكير العملاء تلقائياً أو يدوياً.
      </p>

      <HelpStep number={1} title="إنشاء قالب جديد">
        <p>
          اضغط على "إضافة قالب" وأدخل:
        </p>
        <HelpList items={[
          'اسم القالب (للاستخدام الداخلي)',
          'نوع القالب (تذكير، تحذير، شكر)',
          'محتوى الرسالة',
          'متغيرات ديناميكية (اسم العميل، المبلغ، التاريخ)'
        ]} />
      </HelpStep>

      <HelpStep number={2} title="المتغيرات الديناميكية">
        <p>
          يمكنك استخدام متغيرات تُستبدل تلقائياً عند الإرسال:
        </p>
        <div className="space-y-1 font-mono text-sm">
          <p><code>&#123;&#123;customer_name&#125;&#125;</code> - اسم العميل</p>
          <p><code>&#123;&#123;amount&#125;&#125;</code> - المبلغ المستحق</p>
          <p><code>&#123;&#123;due_date&#125;&#125;</code> - تاريخ الاستحقاق</p>
          <p><code>&#123;&#123;invoice_number&#125;&#125;</code> - رقم الفاتورة</p>
          <p><code>&#123;&#123;company_name&#125;&#125;</code> - اسم شركتك</p>
        </div>
      </HelpStep>

      <HelpStep number={3} title="الجدولة التلقائية">
        <p>
          يمكنك جدولة إرسال القوالب تلقائياً:
        </p>
        <HelpList items={[
          'قبل موعد الاستحقاق بـ 3 أيام',
          'في يوم الاستحقاق',
          'بعد يوم من التأخير',
          'بعد أسبوع من التأخير',
          'جدولة مخصصة'
        ]} />
      </HelpStep>

      <HelpNote type="tip">
        <strong>أمثلة على رسائل فعالة:</strong>
        <br />
        - رسالة تذكير ودية قبل الموعد
        <br />
        - رسالة تحذير محترمة عند التأخير
        <br />
        - رسالة شكر بعد السداد
        <br />
        - رسالة تقديم خطة دفع
      </HelpNote>
    </HelpSection>

    {/* ذكاء الدفع */}
    <HelpSection title="ذكاء الدفع" icon="tip">
      <p>
        نظام ذكي يحلل سلوك الدفع للعملاء ويقدم توصيات لتحسين التحصيل.
      </p>

      <h4 className="font-semibold mt-3 mb-2">التحليلات المتوفرة</h4>
      <HelpList items={[
        'متوسط مدة التأخير لكل عميل',
        'نمط الدفع (منتظم، غير منتظم، متأخر دائماً)',
        'احتمالية التأخير في الدفعة القادمة',
        'أفضل وقت للتواصل مع العميل',
        'فعالية قنوات التذكير المختلفة'
      ]} />

      <h4 className="font-semibold mt-3 mb-2">التوصيات الذكية</h4>
      <p>
        بناءً على التحليلات، يقدم النظام توصيات مثل:
      </p>
      <HelpList items={[
        'إرسال تذكير مبكر للعملاء المعرضين للتأخير',
        'عرض خطة دفع على العملاء المتعثرين',
        'استخدام قناة تواصل معينة حسب استجابة العميل',
        'تعديل مواعيد الاستحقاق حسب نمط دفع العميل'
      ]} />

      <HelpNote type="info">
        كلما زادت البيانات المتوفرة، زادت دقة التوصيات والتنبؤات.
      </HelpNote>
    </HelpSection>

    {/* خطط الدفع */}
    <HelpSection title="خطط الدفع" icon="check">
      <p>
        أنشئ ترتيبات دفع مرنة للعملاء الذين يواجهون صعوبة في السداد الكامل.
      </p>

      <HelpStep number={1} title="إنشاء خطة دفع">
        <p>
          اختر العميل والمبلغ المستحق، ثم حدد:
        </p>
        <HelpList items={[
          'عدد الأقساط',
          'قيمة كل قسط',
          'تواريخ استحقاق الأقساط',
          'شروط الخطة'
        ]} />
      </HelpStep>

      <HelpStep number={2} title="الموافقة والتوقيع">
        <p>
          يمكن إرسال الخطة للعميل للموافقة والتوقيع إلكترونياً.
        </p>
      </HelpStep>

      <HelpStep number={3} title="المتابعة التلقائية">
        <p>
          سيتم تذكير العميل تلقائياً بكل قسط قبل موعد استحقاقه.
        </p>
      </HelpStep>

      <HelpNote type="alert">
        <strong>مهم:</strong> توثيق خطط الدفع كتابياً يحمي حقوق الطرفين.
      </HelpNote>
    </HelpSection>

    {/* تذكيرات WhatsApp */}
    <HelpSection title="تذكيرات WhatsApp" icon="check">
      <p>
        إرسال تذكيرات فورية وتفاعلية للعملاء عبر WhatsApp Business API.
      </p>

      <h4 className="font-semibold mt-3 mb-2">المزايا</h4>
      <HelpList items={[
        'معدل قراءة عالي (>90%)',
        'تفاعل فوري من العملاء',
        'إمكانية الرد المباشر',
        'إرسال روابط الدفع',
        'تتبع حالة التسليم والقراءة'
      ]} />

      <h4 className="font-semibold mt-3 mb-2">الإعداد</h4>
      <HelpStep number={1} title="ربط حساب WhatsApp Business">
        <p>
          من الإعدادات، قم بربط حساب WhatsApp Business API الخاص بشركتك.
        </p>
      </HelpStep>

      <HelpStep number={2} title="إنشاء قوالب الرسائل">
        <p>
          يجب أن تكون القوالب معتمدة من WhatsApp قبل الاستخدام.
        </p>
      </HelpStep>

      <HelpStep number={3} title="إرسال التذكيرات">
        <p>
          يمكن إرسال التذكيرات يدوياً أو جدولتها تلقائياً.
        </p>
      </HelpStep>

      <HelpNote type="alert">
        <strong>تنبيه:</strong> استخدم WhatsApp بمسؤولية وفقاً لسياسات WhatsApp وقوانين الخصوصية.
      </HelpNote>
    </HelpSection>

    {/* رسوم التأخير */}
    <HelpSection title="إدارة رسوم التأخير" icon="check">
      <p>
        إدارة وحساب الغرامات على المدفوعات المتأخرة بشكل تلقائي.
      </p>

      <HelpStep number={1} title="إعداد سياسة الرسوم">
        <p>
          حدد قواعد احتساب رسوم التأخير:
        </p>
        <HelpList items={[
          'نسبة مئوية من المبلغ',
          'مبلغ ثابت يومي',
          'مبلغ مقطوع بعد فترة محددة',
          'جدول متدرج حسب مدة التأخير'
        ]} />
      </HelpStep>

      <HelpStep number={2} title="الاستثناءات">
        <p>
          يمكنك استثناء عملاء محددين أو إعفاءهم من الرسوم.
        </p>
      </HelpStep>

      <HelpStep number={3} title="إشعار العملاء">
        <p>
          سيتم إشعار العملاء تلقائياً بالرسوم المضافة مع توضيح كيفية احتسابها.
        </p>
      </HelpStep>

      <HelpNote type="alert">
        <strong>تنبيه قانوني:</strong> تأكد من أن سياسة رسوم التأخير واضحة في العقود وتتوافق مع القوانين المحلية.
      </HelpNote>
    </HelpSection>

    {/* النزاعات */}
    <HelpSection title="إدارة النزاعات" icon="alert">
      <p>
        معالجة اعتراضات العملاء على الفواتير أو رسوم التأخير بشكل منظم.
      </p>

      <HelpStep number={1} title="تسجيل النزاع">
        <p>
          عندما يعترض عميل على فاتورة، قم بتسجيل النزاع مع:
        </p>
        <HelpList items={[
          'تفاصيل الاعتراض',
          'المستندات المرفقة',
          'تاريخ الاعتراض',
          'الحالة (قيد المراجعة، تم الحل، مرفوض)'
        ]} />
      </HelpStep>

      <HelpStep number={2} title="التحقيق والمراجعة">
        <p>
          راجع الاعتراض مع الفريق المعني وجمع المعلومات اللازمة.
        </p>
      </HelpStep>

      <HelpStep number={3} title="اتخاذ القرار">
        <p>
          قرر بشأن النزاع:
        </p>
        <HelpList items={[
          'قبول الاعتراض وتعديل الفاتورة',
          'رفض الاعتراض مع توضيح الأسباب',
          'التوصل لحل وسط (تخفيض جزئي)'
        ]} />
      </HelpStep>

      <HelpStep number={4} title="التوثيق">
        <p>
          وثّق القرار النهائي وأبلغ العميل بالنتيجة.
        </p>
      </HelpStep>

      <HelpNote type="tip">
        معالجة النزاعات بسرعة واحترافية تحافظ على علاقة جيدة مع العملاء.
      </HelpNote>
    </HelpSection>

    {/* تقرير الأعمار */}
    <HelpSection title="تقرير أعمار الديون (AR Aging)" icon="info">
      <p>
        تحليل تفصيلي لأعمار الديون المستحقة لمساعدتك على تحديد الأولويات.
      </p>

      <h4 className="font-semibold mt-3 mb-2">فئات الأعمار</h4>
      <HelpList items={[
        'جاري (0-30 يوم) - لم يحن موعد الاستحقاق بعد أو متأخر قليلاً',
        '31-60 يوم - متأخر بشكل ملحوظ',
        '61-90 يوم - متأخر بشكل كبير',
        '91-120 يوم - خطر عالي',
        'أكثر من 120 يوم - ديون معدومة محتملة'
      ]} />

      <h4 className="font-semibold mt-3 mb-2">استخدام التقرير</h4>
      <HelpList items={[
        'حدد أولوية التحصيل (ابدأ بالفئات الأكبر عمراً)',
        'راقب الاتجاهات (هل تتزايد الديون القديمة؟)',
        'اتخذ قرارات بشأن المخصصات',
        'حدد العملاء الذين يحتاجون لخطط دفع'
      ]} />

      <HelpNote type="tip">
        مراجعة تقرير الأعمار شهرياً تساعد على اكتشاف المشاكل مبكراً.
      </HelpNote>
    </HelpSection>

    {/* تتبع المدفوعات */}
    <HelpSection title="تتبع المدفوعات" icon="check">
      <p>
        راقب جميع المدفوعات الواردة والمستحقة مع تفاصيل شاملة.
      </p>

      <h4 className="font-semibold mt-3 mb-2">حالات المدفوعات</h4>
      <HelpList items={[
        'مدفوع - تم السداد كاملاً',
        'جزئي - تم دفع جزء من المبلغ',
        'مستحق - قادم ولم يحن موعده',
        'متأخر - فات موعد الاستحقاق',
        'ملغى - تم إلغاء المدفوعة'
      ]} />

      <h4 className="font-semibold mt-3 mb-2">الفلاتر المتاحة</h4>
      <HelpList items={[
        'حسب العميل',
        'حسب الحالة',
        'حسب نطاق التاريخ',
        'حسب المبلغ',
        'حسب طريقة الدفع'
      ]} />

      <HelpNote type="info">
        يمكنك تصدير قائمة المدفوعات إلى Excel لإجراء تحليلات إضافية.
      </HelpNote>
    </HelpSection>

    {/* أفضل الممارسات */}
    <HelpSection title="أفضل الممارسات للتحصيل الفعال" icon="tip">
      <HelpList items={[
        'أرسل تذكيرات ودية قبل موعد الاستحقاق ببضعة أيام',
        'كن واضحاً ومحترماً في التواصل مع العملاء',
        'استخدم قنوات متعددة (SMS، WhatsApp، بريد إلكتروني)',
        'تابع بانتظام ولكن دون إزعاج',
        'قدم خيارات دفع مرنة للعملاء المتعثرين',
        'وثّق جميع الاتصالات والاتفاقات',
        'راقب مؤشرات الأداء الرئيسية (معدل التحصيل، متوسط مدة التحصيل)',
        'استخدم التحليلات لتحسين الاستراتيجية',
        'عامل كل عميل حسب ظروفه وسلوكه',
        'احتفظ بسجل شامل لتاريخ الدفع لكل عميل'
      ]} />
    </HelpSection>

    {/* حلول المشاكل */}
    <HelpSection title="حل المشاكل الشائعة" icon="alert">
      
      <div className="space-y-3">
        <div>
          <h5 className="font-semibold">لا تصل رسائل التذكير للعملاء</h5>
          <HelpList items={[
            'تحقق من صحة أرقام الهواتف وعناوين البريد الإلكتروني',
            'تأكد من اعتماد قوالب WhatsApp',
            'راجع إعدادات بوابة الرسائل',
            'تحقق من رصيد الرسائل المتبقي'
          ]} />
        </div>

        <div>
          <h5 className="font-semibold">رسوم التأخير لا تُحتسب تلقائياً</h5>
          <HelpList items={[
            'تأكد من تفعيل الاحتساب التلقائي في الإعدادات',
            'راجع سياسة الرسوم المعرّفة',
            'تحقق من عدم وجود استثناءات للعميل'
          ]} />
        </div>

        <div>
          <h5 className="font-semibold">التقارير لا تعرض بيانات صحيحة</h5>
          <HelpList items={[
            'تأكد من تحديد نطاق التاريخ الصحيح',
            'راجع الفلاتر المطبقة',
            'قم بتحديث الصفحة',
            'امسح الكاش والكوكيز'
          ]} />
        </div>
      </div>
    </HelpSection>
  </>
);

