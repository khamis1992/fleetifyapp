import React from 'react';
import { HelpSection, HelpStep, HelpList, HelpNote } from '../HelpContent';

export const SettingsPageHelpContent = () => (
  <>
    {/* نظرة عامة */}
    <HelpSection title="نظرة عامة على صفحة الإعدادات (Settings)" icon="info">
      <p>
        تُعد صفحة الإعدادات هي المركز العصبي لإدارة وتخصيص تطبيق Fleetify ليناسب احتياجات شركتك بدقة.
        من خلال هذه الصفحة، يمكنك التحكم في الإعدادات الأساسية للنظام، وتحديد الصلاحيات، وتخصيص البيانات المرجعية،
        مما يضمن عمل النظام بكفاءة وتوافق مع سياساتك الداخلية.
        يتمتع مديرو الشركات والمشرفون بصلاحيات واسعة لتعديل هذه الإعدادات، بينما تكون بعض الإعدادات
        متاحة فقط للمشرف العام (Super Admin) لضمان استقرار النظام.
      </p>
    </HelpSection>

    {/* الوظائف الرئيسية */}
    <HelpSection title="الوظائف الرئيسية" icon="check">
      <HelpList
        type="check"
        items={[
          'إدارة معلومات الشركة الأساسية (الاسم، الشعار، العنوان، بيانات الاتصال).',
          'تخصيص إعدادات النظام المالي (العملة الافتراضية، إعدادات الضرائب، بداية السنة المالية).',
          'إدارة المستخدمين والصلاحيات (إضافة/تعديل المستخدمين وتعيين الأدوار: مدير شركة، مدير، موظف).',
          'تحديد الإعدادات المرجعية (مثل أنواع المركبات، أنواع الصيانة، أنواع العقود).',
          'إدارة إعدادات الإشعارات والتنبيهات عبر البريد الإلكتروني أو داخل التطبيق.',
          'تخصيص قوالب المستندات (مثل قوالب العقود، فواتير الإيجار، إيصالات الدفع).',
          'إدارة التكامل مع أنظمة خارجية (مثل بوابات الدفع أو أنظمة المحاسبة).',
          'مراجعة سجلات النظام والتدقيق (Audit Logs) لتتبع التغييرات التي تمت على الإعدادات.',
        ]}
      />
    </HelpSection>

    {/* شروحات تفصيلية لكل عملية */}
    <div className="border-t pt-6">
      <h2 className="text-xl font-bold mb-4 text-blue-600">كيفية إدارة المستخدمين والصلاحيات</h2>
      <p className="mb-4">
        تتيح لك هذه العملية التحكم الكامل في من يمكنه الوصول إلى النظام وما هي صلاحياته.
        يجب توخي الحذر عند تعيين دور "مدير الشركة" لأنه يمنح صلاحيات واسعة.
      </p>
      <HelpSection title="الخطوات" icon="check">
        <div className="space-y-4">
          <HelpStep
            number={1}
            title="الوصول إلى قسم المستخدمين"
            description="من القائمة الجانبية للإعدادات، اختر &quot;إدارة المستخدمين&quot; أو &quot;الصلاحيات"."
          />
          <HelpStep
            number={2}
            title="إضافة مستخدم جديد"
            description="انقر على زر &quot;إضافة مستخدم جديد"، واملأ البيانات المطلوبة (الاسم، البريد الإلكتروني، كلمة المرور المبدئية)."
          />
          <HelpStep
            number={3}
            title="تعيين الدور المناسب"
            description="اختر الدور المناسب للمستخدم من القائمة المنسدلة (مدير شركة، مدير، موظف). تذكر أن الصلاحيات تختلف بشكل كبير بين هذه الأدوار."
          />
          <HelpStep
            number={4}
            title="حفظ التغييرات"
            description="انقر على &quot;حفظ" لتفعيل حساب المستخدم. سيتم إرسال بريد إلكتروني للمستخدم ببيانات الدخول."
          />
        </div>
      </HelpSection>
    </div>

    <div className="border-t pt-6">
      <h2 className="text-xl font-bold mb-4 text-blue-600">كيفية تخصيص الإعدادات المالية</h2>
      <p className="mb-4">
        تؤثر الإعدادات المالية بشكل مباشر على جميع العمليات المحاسبية والتقارير. تأكد من ضبطها بدقة قبل البدء في إدخال المعاملات.
      </p>
      <HelpSection title="الخطوات" icon="check">
        <div className="space-y-4">
          <HelpStep
            number={1}
            title="الانتقال إلى الإعدادات المالية"
            description="في صفحة الإعدادات الرئيسية، اختر قسم "الإعدادات المالية"."
          />
          <HelpStep
            number={2}
            title="تحديد العملة والسنة المالية"
            description="اختر العملة الافتراضية للشركة وحدد تاريخ بداية السنة المالية. لا يمكن تغيير بداية السنة المالية بعد إدخال أول معاملة."
          />
          <HelpStep
            number={3}
            title="ضبط إعدادات الضرائب"
            description="أدخل نسبة ضريبة القيمة المضافة (VAT) المطبقة في بلدك، وحدد ما إذا كانت الأسعار المدخلة تشمل الضريبة أم لا."
          />
        </div>
      </HelpSection>
    </div>

    <div className="border-t pt-6">
      <h2 className="text-xl font-bold mb-4 text-blue-600">كيفية إدارة البيانات المرجعية (Master Data)</h2>
      <p className="mb-4">
        البيانات المرجعية هي القوائم المنسدلة التي تستخدم في جميع أنحاء النظام (مثل أنواع المركبات، أنواع الصيانة). إدارتها تضمن توحيد البيانات.
      </p>
      <HelpSection title="الخطوات" icon="check">
        <div className="space-y-4">
          <HelpStep
            number={1}
            title="اختيار نوع البيانات"
            description="من قسم "البيانات المرجعية"، اختر القائمة التي تريد تعديلها (مثلاً: "أنواع الصيانة")."
          />
          <HelpStep
            number={2}
            title="إضافة أو تعديل عنصر"
            description="لإضافة عنصر جديد، انقر على &quot;إضافة" وأدخل الاسم. لتعديل عنصر موجود، انقر على أيقونة القلم بجوار العنصر."
          />
          <HelpStep
            number={3}
            title="تفعيل/تعطيل العناصر"
            description="يمكنك تعطيل عنصر بدلاً من حذفه. العناصر المعطلة لن تظهر في القوائم المنسدلة الجديدة، لكنها ستبقى مرتبطة بالبيانات القديمة."
          />
        </div>
      </HelpSection>
    </div>

    {/* نصائح */}
    <div className="border-t pt-6">
      <h2 className="text-xl font-bold mb-4 text-green-600">نصائح للاستخدام الأمثل</h2>
      <HelpNote type="tip">
        <strong>نصيحة:</strong> قم بمراجعة سجلات التدقيق (Audit Logs) بشكل دوري. هذه السجلات تسجل كل تغيير يتم على الإعدادات، مما يساعدك في تتبع أي تعديلات غير مصرح بها أو غير مقصودة.
      </HelpNote>
      <HelpNote type="tip">
        <strong>نصيحة:</strong> عند إضافة مستخدمين جدد، ابدأ دائمًا بتعيين أقل صلاحية يحتاجها المستخدم لأداء عمله. يمكنك زيادة الصلاحيات لاحقًا إذا لزم الأمر، باتباع مبدأ 'أقل الامتيازات'.
      </HelpNote>
    </div>

    {/* تحذيرات */}
    <div className="border-t pt-6">
      <h2 className="text-xl font-bold mb-4 text-red-600">تحذيرات مهمة</h2>
      <HelpNote type="warning">
        <strong>تحذير:</strong> تغيير العملة الافتراضية أو بداية السنة المالية بعد بدء إدخال المعاملات سيؤدي إلى عدم اتساق في التقارير المالية وقد يتطلب تدخلًا يدويًا كبيرًا لتصحيح البيانات. يرجى التأكد من هذه الإعدادات قبل الاستخدام الفعلي.
      </HelpNote>
      <HelpNote type="warning">
        <strong>تحذير:</strong> حذف البيانات المرجعية (مثل نوع عقد) قد يؤدي إلى ظهور أخطاء في العقود القديمة المرتبطة بها. يفضل دائمًا 'تعطيل' العنصر بدلاً من حذفه بشكل دائم.
      </HelpNote>
    </div>

    {/* فهم الإحصائيات والفلاتر */}
    <div className="border-t pt-6">
      <h2 className="text-xl font-bold mb-4 text-blue-600">سجلات التدقيق (Audit Logs)</h2>
      <p>
        سجلات التدقيق هي ميزة أساسية في صفحة الإعدادات، وهي ليست إحصائيات بالمعنى التقليدي، بل هي سجل تفصيلي لجميع الأنشطة الإدارية.
        تساعدك هذه السجلات على فهم:
      </p>
      <HelpList
        type="bullet"
        items={[
          'من قام بالتغيير (اسم المستخدم).',
          'ما هو التغيير الذي تم (مثلاً: "تم تغيير اسم الشركة من X إلى Y").',
          'متى تم التغيير (التاريخ والوقت الدقيق).',
          'من أي مكان تم التغيير (عنوان IP).',
        ]}
      />
      <p className="mt-4">
        <strong>الفلاتر والبحث:</strong> يمكنك استخدام حقول البحث والفلاتر في سجلات التدقيق لتضييق نطاق النتائج.
        على سبيل المثال، يمكنك البحث عن جميع التغييرات التي قام بها مستخدم معين، أو جميع التغييرات التي حدثت في تاريخ محدد، أو جميع التغييرات المتعلقة بقسم معين (مثل 'المستخدمين').
      </p>
    </div>
  </>
);
