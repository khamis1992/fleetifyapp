# مهمة: تحسين صفحة تدقيق بيانات العميل

## المطلوب:
1. إذا لم توجد نسخة موقعة من عقد العميل، يُطلب من الموظف رفع نسخة عبر السحب والإفلات
2. يتم حفظ النسخة في صفحة تفاصيل العقد (contract_documents)
3. بعد إتمام التدقيق، إرسال رسالة واتساب لمنشئ المهمة بأن المهمة تمت

## خطة التنفيذ:

- [x] 1. إضافة استعلام للتحقق من وجود عقد موقع في مستندات العقد
- [x] 2. إضافة منطقة رفع الملفات بالسحب والإفلات إذا لم يوجد عقد موقع
- [x] 3. إضافة hook لرفع المستند وحفظه في contract_documents
- [x] 4. تعديل confirmReadyMutation لإرسال واتساب لمنشئ المهمة عند الانتهاء

---

## ✅ ملخص التغييرات

### الملف المعدّل:
`src/pages/legal/CustomerVerificationPage.tsx`

### التغييرات:

1. **استعلام العقد الموقع:**
   - إضافة `useQuery` للتحقق من وجود مستند `signed_contract` في جدول `contract_documents`

2. **رفع العقد بالسحب والإفلات:**
   - منطقة drag-and-drop تظهر إذا لم يوجد عقد موقع
   - دعم PDF والصور
   - تأكيد بصري عند السحب والاختيار

3. **حفظ المستند:**
   - `uploadContractMutation` لرفع الملف إلى `contract-documents` bucket
   - إنشاء سجل في `contract_documents` بنوع `signed_contract`

4. **إشعار واتساب:**
   - عند الضغط على "جاهز لرفع دعوى"، يتم إرسال رسالة واتساب لمنشئ المهمة (`assigned_by`)
   - الرسالة تحتوي على: اسم العميل، اسم المدقق، التاريخ والوقت
