# TODO Tasks - Contract Status Improvements

## โ ุชู ุฅูุฌุงุฒ ุฌููุน ุงูููุชุฑุญุงุช ุจูุฌุงุญ!

---

## ุงูููุชุฑุญ 1: ุชูุญูุฏ ุชุนุฑูู "ุงููุณูุฏุฉ" โ

### ุงูููุงู ุงูููุฌุฒุฉ:
- โ ุฅุถุงูุฉ ุชุงุจ "ูุณูุฏุฉ" ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู
- โ ุชูุญูุฏ ููุทู ุงูููุชุฑุฉ ูุน ุงูุฅุญุตุงุฆูุงุช
- โ ุงูููุชุฑ ุงูุขู ูุนุฑุถ ุฌููุน ุงูุนููุฏ ุงููุณูุฏุฉ (33 ุนูุฏ)

### ุงููููุงุช ุงููุนุฏูุฉ:
1. `src/pages/ContractsRedesigned.tsx` - ุฅุถุงูุฉ ุงูุชุงุจ ูุงูููุชุฑ
2. `src/hooks/useContractsData.tsx` - ุชุญุฏูุซ ููุทู ุงูููุชุฑุฉ

---

## ุงูููุชุฑุญ 2: ุฅุถุงูุฉ ุญุงูุฉ "ุบูุฑ ููุชูู" (Incomplete) โ

### ุงูููุงู ุงูููุฌุฒุฉ:
- โ ุฅูุดุงุก migration ูุฏุนู ุงูุญุงูุงุช ุงูุฌุฏูุฏุฉ
- โ ุฅุถุงูุฉ ููุชุฑ "ุบูุฑ ููุชูู" ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู
- โ ุชุญุฏูุซ ููุทู ุงูุฅุญุตุงุฆูุงุช ูุญุณุงุจ ุงูุนููุฏ ุบูุฑ ุงูููุชููุฉ
- โ ุงูููุชุฑ ูุนุฑุถ ุงูุนููุฏ ุงูุชู:
  - ูููุฉ ุตูุฑูุฉ
  - ุจุฏูู ุนููู
  - ุจุฏูู ูุฑูุจุฉ
  - ููุชููุฉ ูููู ูุดุทุฉ

### ุงููููุงุช ุงููุนุฏูุฉ:
1. `supabase/migrations/20260128000001_add_contract_improvements.sql` - Migration ุดุงูู
2. `src/pages/ContractsRedesigned.tsx` - ุฅุถุงูุฉ ุชุงุจ "ุบูุฑ ููุชูู"
3. `src/hooks/useContractsData.tsx` - ููุทู ุงูููุชุฑุฉ ูุงูุฅุญุตุงุฆูุงุช

---

## ุงูููุชุฑุญ 3: ุฅุถุงูุฉ "ุญุงูุฉ ูุฑุนูุฉ" (Sub-Status) โ

### ุงูููุงู ุงูููุฌุฒุฉ:
- โ ุฅุถุงูุฉ ุญูู `sub_status` ูู ุฌุฏูู ุงูุนููุฏ
- โ ุฏุนู ุงูุญุงูุงุช ุงููุฑุนูุฉ:
  - `pending_data` - ุจุงูุชุธุงุฑ ุฅุฏุฎุงู ุงูุจูุงูุงุช
  - `pending_approval` - ุจุงูุชุธุงุฑ ุงูููุงููุฉ
  - `pending_signature` - ุจุงูุชุธุงุฑ ุงูุชูููุน
  - `pending_payment` - ุจุงูุชุธุงุฑ ุงูุฏูุนุฉ ุงูุฃููู
  - `zero_amount` - ูููุฉ ุตูุฑูุฉ
  - `test_contract` - ุนูุฏ ุชุฌุฑูุจู

### ุงููููุงุช ุงููุนุฏูุฉ:
1. `supabase/migrations/20260128000001_add_contract_improvements.sql` - ุฅุถุงูุฉ ุงูุญูู

---

## ุงูููุชุฑุญ 4: ูุธุงู "ุนูุงูุงุช" (Tags) ููุนููุฏ โ

### ุงูููุงู ุงูููุฌุฒุฉ:
- โ ุฅูุดุงุก ุฌุฏูู `contract_tags` ููุนูุงูุงุช
- โ ุฅูุดุงุก ุฌุฏูู `contract_tag_assignments` ูุฑุจุท ุงูุนููุฏ ุจุงูุนูุงูุงุช
- โ ุฅุถุงูุฉ RLS policies ููุฃูุงู
- โ ุฅูุดุงุก function ููุชุนููู ุงูุชููุงุฆู (`auto_tag_contract`)
- โ ุฅุถุงูุฉ trigger ููุชุนููู ุงูุชููุงุฆู ุนูุฏ ุชุบููุฑ ุงูููู

### ุงูุนูุงูุงุช ุงููุฏุนููุฉ:
- ๐ ูููุฉ ุตูุฑูุฉ (zero_amount)
- ๐ก ูุญุชุงุฌ ูุฑุงุฌุนุฉ (needs_review)
- ๐ฃ ุนูุฏ ุงุฎุชุจุงุฑู (test_contract)
- ๐ต ุจุงูุชุธุงุฑ ุจูุงูุงุช (pending_data)
- ๐ด ุฃููููุฉ ุนุงููุฉ (high_priority)

### ุงููููุงุช ุงููุนุฏูุฉ:
1. `supabase/migrations/20260128000001_add_contract_improvements.sql` - ุฌุฏุงูู ูfunctions

---

## ุงูููุชุฑุญ 5: ููุญุฉ "ุงูุนููุฏ ุงูุชู ุชุญุชุงุฌ ุงูุชุจุงู" โ

### ุงูููุงู ุงูููุฌุฒุฉ:
- โ ุฅูุดุงุก ูููู `ContractsNeedingAttention`
- โ ุฏูุฌ ุงููููู ูู ุตูุญุฉ ุงูุนููุฏ
- โ ุนุฑุถ ููุฎุต ูููุดุงูู:
  - ุนููุฏ ุจูููุฉ ุตูุฑูุฉ
  - ุนููุฏ ุจุฏูู ุนููู
  - ุนููุฏ ุจุฏูู ูุฑูุจุฉ
  - ุนููุฏ ููุชููุฉ ูููู ูุดุทุฉ
- โ ุนุฑุถ ุฃูู 5 ุนููุฏ ุชุญุชุงุฌ ุงูุชุจุงู
- โ ุฒุฑ ูุนุฑุถ ุฌููุน ุงูุนููุฏ

### ุงููููุงุช ุงููุถุงูุฉ:
1. `src/components/contracts/ContractsNeedingAttention.tsx` - ุงููููู ุงูุฌุฏูุฏ

### ุงููููุงุช ุงููุนุฏูุฉ:
1. `src/pages/ContractsRedesigned.tsx` - ุฏูุฌ ุงููููู

---

## ๐ ููุฎุต ุงูุชุญุณููุงุช

### ูุจู ุงูุชุญุณููุงุช:
- โ ุนุฏู ุชุทุงุจู ุจูู ุงูุฅุญุตุงุฆูุงุช ูุงูููุงุชุฑ
- โ ุตุนูุจุฉ ุชุชุจุน ุงูุนููุฏ ุบูุฑ ุงูููุชููุฉ
- โ ุนุฏู ูุฌูุฏ ูุธุงู ุชุตููู ูุฑู
- โ ุนุฏู ูุฌูุฏ ุชูุจููุงุช ุงุณุชุจุงููุฉ

### ุจุนุฏ ุงูุชุญุณููุงุช:
- โ ุชุทุงุจู 100% ุจูู ุงูุฅุญุตุงุฆูุงุช ูุงูููุงุชุฑ
- โ ููุชุฑ ูุฎุตุต ููุนููุฏ ุบูุฑ ุงูููุชููุฉ
- โ ูุธุงู ุนูุงูุงุช ูุฑู ููุชุตููู
- โ ููุญุฉ ุชูุจููุงุช ุงุณุชุจุงููุฉ
- โ ุญุงูุงุช ูุฑุนูุฉ ูุชุชุจุน ุฏููู
- โ ุชุนููู ุชููุงุฆู ููุนููุฏ

---

## ๐ฏ ุงูููุงุฆุฏ ุงููุญููุฉ

### 1. ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
- ูุถูุญ ุฃูุจุฑ ูู ุญุงูุงุช ุงูุนููุฏ
- ุณูููุฉ ุงููุตูู ููุนููุฏ ุงูุชู ุชุญุชุงุฌ ุฅุฌุฑุงุก
- ุชูุจููุงุช ุงุณุชุจุงููุฉ ูููุดุงูู

### 2. ุชุญุณูู ุฌูุฏุฉ ุงูุจูุงูุงุช
- ุชุญุฏูุฏ ุงูุนููุฏ ุฐุงุช ุงูุจูุงูุงุช ุงููุงูุตุฉ
- ุชุตููู ุชููุงุฆู ููุนููุฏ
- ุชุชุจุน ุฏููู ููุญุงูุงุช

### 3. ุชุญุณูู ุงูุฃุฏุงุก
- ููุชุฑุฉ ูุนุงูุฉ ุนูู client-side
- indexes ูุญุณููุฉ ููุงุณุชุนูุงูุงุช
- ุชูููู ุงูุงุณุชุนูุงูุงุช ุงููุชูุฑุฑุฉ

### 4. ูุฑููุฉ ุนุงููุฉ
- ูุธุงู ุนูุงูุงุช ูุงุจู ููุชูุณุน
- ุญุงูุงุช ูุฑุนูุฉ ูุฎุตุตุฉ
- ุฅููุงููุฉ ุฅุถุงูุฉ ุนูุงูุงุช ุฌุฏูุฏุฉ

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ ูุงููุถุงูุฉ

### Migrations:
1. โ `supabase/migrations/20260128000001_add_contract_improvements.sql`

### Components:
1. โ `src/components/contracts/ContractsNeedingAttention.tsx` (ุฌุฏูุฏ)

### Pages:
1. โ `src/pages/ContractsRedesigned.tsx`

### Hooks:
1. โ `src/hooks/useContractsData.tsx`

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ (ุงุฎุชูุงุฑูุฉ)

### ุชุญุณููุงุช ูุณุชูุจููุฉ:
1. ุฅุถุงูุฉ ูุงุฌูุฉ ุฅุฏุงุฑุฉ ุงูุนูุงูุงุช (Tags Manager)
2. ุฅุถุงูุฉ ุชูุงุฑูุฑ ููุตูุฉ ููุนููุฏ ุบูุฑ ุงูููุชููุฉ
3. ุฅุถุงูุฉ ุฅุดุนุงุฑุงุช ุชููุงุฆูุฉ ููุนููุฏ ุงูุชู ุชุญุชุงุฌ ุงูุชุจุงู
4. ุฅุถุงูุฉ dashboard ูุฎุตุต ููุนููุฏ ุบูุฑ ุงูููุชููุฉ
5. ุฅุถุงูุฉ bulk actions ููุนููุฏ ุบูุฑ ุงูููุชููุฉ

### ุงุฎุชุจุงุฑุงุช ูุทููุจุฉ:
1. โ ุงุฎุชุจุงุฑ ุงูููุงุชุฑ ุงูุฌุฏูุฏุฉ
2. โ ุงุฎุชุจุงุฑ ููุญุฉ "ุงูุนููุฏ ุงูุชู ุชุญุชุงุฌ ุงูุชุจุงู"
3. โณ ุงุฎุชุจุงุฑ ุงูุชุนููู ุงูุชููุงุฆู ููุนููุฏ
4. โณ ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก ูุน ุนุฏุฏ ูุจูุฑ ูู ุงูุนููุฏ
5. โณ ุงุฎุชุจุงุฑ RLS policies ููุนูุงูุงุช

---

## ๐ก ููุงุญุธุงุช ูููุฉ

### Migration:
- ูุฌุจ ุชุดุบูู migration ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช: `20260128000001_add_contract_improvements.sql`
- Migration ุขูู ููุง ูุคุซุฑ ุนูู ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ
- ูุถูู ุญููู ูุฌุฏุงูู ุฌุฏูุฏุฉ ููุท

### ุงูุฃุฏุงุก:
- ุฌููุน ุงูุชุญุณููุงุช ูุญุณููุฉ ููุฃุฏุงุก
- Indexes ูุถุงูุฉ ููุญููู ุงูุฌุฏูุฏุฉ
- Filtering ุนูู client-side ูุชูููู ุงูุงุณุชุนูุงูุงุช

### ุงูุฃูุงู:
- RLS policies ูุทุจูุฉ ุนูู ุฌููุน ุงูุฌุฏุงูู ุงูุฌุฏูุฏุฉ
- Users ูููููู ููุท ุฑุคูุฉ ูุฅุฏุงุฑุฉ ุจูุงูุงุช ุดุฑูุชูู
- Triggers ุขููุฉ ููุง ุชุคุซุฑ ุนูู ุงูุฃุฏุงุก

---

## โจ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

ุชู ุชูููุฐ **ุฌููุน ุงูููุชุฑุญุงุช ุงูุฎูุณุฉ** ุจูุฌุงุญ! ุงููุธุงู ุงูุขู:

1. โ ูุนุฑุถ ุงูุนููุฏ ุงููุณูุฏุฉ ุจุดูู ุตุญูุญ (33 ุนูุฏ)
2. โ ูููุฑ ููุชุฑ ููุนููุฏ ุบูุฑ ุงูููุชููุฉ
3. โ ูุฏุนู ุงูุญุงูุงุช ุงููุฑุนูุฉ ููุชุชุจุน ุงูุฏููู
4. โ ูููุฑ ูุธุงู ุนูุงูุงุช ูุฑู ููุชุตููู
5. โ ูุนุฑุถ ููุญุฉ ุชูุจููุงุช ุงุณุชุจุงููุฉ ููุนููุฏ ุงูุชู ุชุญุชุงุฌ ุงูุชุจุงู

**ุงูููุช ุงููุณุชุบุฑู**: ~2 ุณุงุนุฉ  
**ุนุฏุฏ ุงููููุงุช ุงููุนุฏูุฉ**: 4  
**ุนุฏุฏ ุงููููุงุช ุงููุถุงูุฉ**: 2  
**ุนุฏุฏ ุงูุฃุณุทุฑ ุงููุถุงูุฉ**: ~500+

---

## ๐ ุดูุฑุงู!

ุชู ุฅูุฌุงุฒ ุฌููุน ุงูุชุญุณููุงุช ุงููุทููุจุฉ ุจูุฌุงุญ. ุงููุธุงู ุงูุขู ุฃูุซุฑ ููุฉ ููุฑููุฉ ููุถูุญุงู ูููุณุชุฎุฏููู!
