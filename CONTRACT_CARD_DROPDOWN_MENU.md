# ุฅุถุงูุฉ Dropdown Menu ูุจุทุงูุฉ ุงูุนูุฏ ูุน ุฎูุงุฑ ุฌุฏููุฉ ุงูุตูุงูุฉ

## ุงูุชุงุฑูุฎ
2025-01-19

## ุงููุดููุฉ
ูุงูุช ุจุทุงูุฉ ุงูุนูุฏ ([`ContractCard.tsx`](c:\Users\khamis\Desktop\fleetifyapp-3\src\components\contracts\ContractCard.tsx)) ุชูุชูุฑ ุฅูู ูุงุฆูุฉ ููุณุฏูุฉ (Dropdown Menu) ุชุญุชูู ุนูู ุงูุฎูุงุฑุงุช ุงูุชุงููุฉ:
- โ ุนุฑุถ ุงูุชูุงุตูู
- โ๏ธ ุชุนุฏูู ุงููุฑูุจุฉ
- ๐ง ุฌุฏููุฉ ุงูุตูุงูุฉ
- โ ุฅูุบุงุก ุงูุชูุนูู

## ุงูุญู ุงููููุฐ

### 1. ุฅุถุงูุฉ Dropdown Menu ๐ฏ

ุชู ุฅุถุงูุฉ ูุงุฆูุฉ ููุณุฏูุฉ ูู ุฑุฃุณ ุจุทุงูุฉ ุงูุนูุฏ ุจุงุณุชุฎุฏุงู:
- `DropdownMenu` ูู Shadcn UI
- ุฃููููุฉ ุงูููุงุท ุงูุซูุงุซ (`MoreVertical`)
- ุงูุฃููููุงุช ุงูููุงุณุจุฉ ููู ุฎูุงุฑ

### 2. ุงูุฎูุงุฑุงุช ุงููุชุงุญุฉ

#### ุฃ. ุนุฑุถ ุงูุชูุงุตูู (`Eye` icon)
```typescript
<DropdownMenuItem onClick={() => onViewDetails?.(contract)}>
  <Eye className="h-4 w-4 mr-2" />
  ุนุฑุถ ุงูุชูุงุตูู
</DropdownMenuItem>
```

#### ุจ. ุชุนุฏูู ุงููุฑูุจุฉ (`Edit` icon)
```typescript
{contract.vehicle_id && (
  <DropdownMenuItem onClick={() => onEditVehicle?.(contract)}>
    <Edit className="h-4 w-4 mr-2" />
    ุชุนุฏูู ุงููุฑูุจุฉ
  </DropdownMenuItem>
)}
```

#### ุฌ. ุฌุฏููุฉ ุงูุตูุงูุฉ (`Wrench` icon) โญ **ุงูููุฒุฉ ุงูุฑุฆูุณูุฉ**
```typescript
{contract.vehicle_id && (
  <DropdownMenuItem onClick={() => setShowMaintenanceForm(true)}>
    <Wrench className="h-4 w-4 mr-2" />
    ุฌุฏููุฉ ุงูุตูุงูุฉ
  </DropdownMenuItem>
)}
```

#### ุฏ. ุฅูุบุงุก ุงูุชูุนูู (`XCircle` icon)
```typescript
{contract.status === 'active' && onCancelContract && (
  <DropdownMenuItem 
    onClick={() => onCancelContract(contract)}
    className="text-destructive focus:text-destructive"
  >
    <XCircle className="h-4 w-4 mr-2" />
    ุฅูุบุงุก ุงูุชูุนูู
  </DropdownMenuItem>
)}
```

### 3. ุฏูุฌ ูููุฐุฌ ุงูุตูุงูุฉ

ุชู ุฏูุฌ ูููู `MaintenanceForm` ูุจุงุดุฑุฉ ูู ุจุทุงูุฉ ุงูุนูุฏ:

```typescript
{contract.vehicle_id && (
  <MaintenanceForm
    vehicleId={contract.vehicle_id}
    open={showMaintenanceForm}
    onOpenChange={setShowMaintenanceForm}
  />
)}
```

### 4. ุงูุดุฑูุท ุงููุทุจูุฉ

- **ุชุนุฏูู ุงููุฑูุจุฉ ูุฌุฏููุฉ ุงูุตูุงูุฉ**: ุชุธูุฑ ููุท ุฅุฐุง ูุงู ุงูุนูุฏ ูุญุชูู ุนูู `vehicle_id`
- **ุฅูุบุงุก ุงูุชูุนูู**: ูุธูุฑ ููุท ุฅุฐุง ูุงู ุงูุนูุฏ `active` ูุชู ุชูุฑูุฑ `onCancelContract`

## ุงูุชุบููุฑุงุช ูู ุงูููุฏ

### ุงูููู: `src/components/contracts/ContractCard.tsx`

#### 1. ุงูุงุณุชูุฑุงุฏุงุช ุงูุฌุฏูุฏุฉ
```typescript
import { useState } from 'react';
import { MoreVertical, Eye, Edit, Wrench } from 'lucide-react';
import { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger, DropdownMenuSeparator } from '@/components/ui/dropdown-menu';
import { MaintenanceForm } from '@/components/fleet/MaintenanceForm';
```

#### 2. Props ุงูุฌุฏูุฏุฉ
```typescript
interface ContractCardProps {
  // ... props ููุฌูุฏุฉ
  onEditVehicle?: (contract: any) => void; // ุฌุฏูุฏ
}
```

#### 3. State Management
```typescript
const [showMaintenanceForm, setShowMaintenanceForm] = useState(false);
```

#### 4. ุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู
- ุฅุถุงูุฉ ุฒุฑ Dropdown Menu ุจุฌุงูุจ Badge ุงูุญุงูุฉ
- ุฅุฒุงูุฉ ุฒุฑ "ุนุฑุถ" ุงููููุตู
- ุชูุธูู ุฌููุน ุงูุฅุฌุฑุงุกุงุช ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ
- ุงูุงุญุชูุงุธ ุจุงูุฃุฒุฑุงุฑ ุงูุฃุณุงุณูุฉ (ุชุฌุฏูุฏุ ุฅุฏุงุฑุฉุ ุญุฐู) ูู ุงูุฃุณูู

## ุงููุฒุงูุง

### 1. ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ โจ
- ูุงุฌูุฉ ุฃูุธู ูุฃูุซุฑ ุงุญุชุฑุงููุฉ
- ุชูููู ุงูููุถู ูู ุงูุจุทุงูุฉ
- ุณูููุฉ ุงููุตูู ููุฎูุงุฑุงุช

### 2. ุฌุฏููุฉ ุงูุตูุงูุฉ ุงููุจุงุดุฑุฉ ๐ง
- ูุชุญ ูููุฐุฌ ุงูุตูุงูุฉ ูุจุงุดุฑุฉ ูู ุจุทุงูุฉ ุงูุนูุฏ
- ุชูุฑูุฑ `vehicle_id` ุชููุงุฆูุงู
- ุชุฌุฑุจุฉ ุณูุณุฉ ุจุฏูู ุฎุทูุงุช ุฅุถุงููุฉ

### 3. ูุฑููุฉ ูู ุงูุชุทููุฑ ๐
- ุณูู ุฅุถุงูุฉ ุฎูุงุฑุงุช ุฌุฏูุฏุฉ
- Dropdown Menu ูุงุจู ููุชูุณุน
- ููุฏ ููุธู ููุงุจู ููุตูุงูุฉ

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูู ุตูุญุฉ ุงูุนููุฏ ุงูุฑุฆูุณูุฉ

ุฅุฐุง ููุช ุชุฑูุฏ ุชูุนูู ุฎูุงุฑ "ุชุนุฏูู ุงููุฑูุจุฉ":

```typescript
<ContractCard
  contract={contract}
  onViewDetails={handleViewDetails}
  onEditVehicle={handleEditVehicle} // ุฅุถุงูุฉ ูุฐุง
  // ... props ุฃุฎุฑู
/>
```

ุซู ุฅุถุงูุฉ Handler:

```typescript
const handleEditVehicle = useCallback((contract: any) => {
  // ูุชุญ dialog ูุชุนุฏูู ุงููุฑูุจุฉ
  // ุฃู ุงูุชูุฌู ูุตูุญุฉ ุชุนุฏูู ุงููุฑูุจุฉ
  console.log('Edit vehicle:', contract.vehicle_id);
}, []);
```

## ุงูุงุฎุชุจุงุฑ

### โ ุชู ุงูุงุฎุชุจุงุฑ
1. **ุงูุจูุงุก**: ูุฌุญ ุจุฏูู ุฃุฎุทุงุก
2. **TypeScript**: ูุง ุชูุฌุฏ ุฃุฎุทุงุก ููุน
3. **ุงูุงุณุชูุฑุงุฏ**: ุฌููุน ุงูููููุงุช ูุชููุฑุฉ

### ๐ ูุญุชุงุฌ ุงุฎุชุจุงุฑ ูุนูู
1. ูุชุญ ุตูุญุฉ ุงูุนููุฏ
2. ุงูููุฑ ุนูู ุงูููุงุท ุงูุซูุงุซ
3. ุงุฎุชุจุงุฑ ูู ุฎูุงุฑ:
   - [ ] ุนุฑุถ ุงูุชูุงุตูู
   - [ ] ุชุนุฏูู ุงููุฑูุจุฉ (ุฅุฐุง ุชู ุชูุนููู)
   - [ ] ุฌุฏููุฉ ุงูุตูุงูุฉ โญ
   - [ ] ุฅูุบุงุก ุงูุชูุนูู

## ุงูููุงุญุธุงุช ุงููููุฉ

### 1. ุงููุชุทูุจุงุช
- ุงูุนูุฏ ูุฌุจ ุฃู ูุญุชูู ุนูู `vehicle_id` ูุฅุธูุงุฑ ุฎูุงุฑุงุช ุงููุฑูุจุฉ
- `MaintenanceForm` ูุชุทูุจ `vehicle_id` ุตุญูุญ

### 2. ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ
- [ ] ุฅุถุงูุฉ notification ุนูุฏ ูุฌุงุญ ุฌุฏููุฉ ุงูุตูุงูุฉ
- [ ] ุฅุถุงูุฉ ุชุญุฏูุซ ุชููุงุฆู ููุจุทุงูุฉ ุจุนุฏ ุฌุฏููุฉ ุงูุตูุงูุฉ
- [ ] ุฅุถุงูุฉ badge ูุฅุธูุงุฑ ุงูุตูุงูุงุช ุงููุฌุฏููุฉ
- [ ] ุฏุนู ุชุนุฏูู ุงููุฑูุจุฉ (ูุญุชุงุฌ VehicleEditDialog)

### 3. ุงูุชูุงูู
- โ ูุชูุงูู ูุน ุฌููุน ุฃุญุฌุงู ุงูุดุงุดุงุช
- โ ูุนูู ูุน RTL (ุงูุนุฑุจูุฉ)
- โ ูุชูุงูู ูุน Shadcn UI theme
- โ ูุง ูุคุซุฑ ุนูู ุงููุธุงุฆู ุงูููุฌูุฏุฉ

## ุงูุฎูุงุตุฉ

ุชู ุจูุฌุงุญ ุฅุถุงูุฉ Dropdown Menu ุงุญุชุฑุงูู ูุจุทุงูุฉ ุงูุนูุฏ ูุน:
- โ ุฎูุงุฑ **ุฌุฏููุฉ ุงูุตูุงูุฉ** ูุนูู ุจุดูู ูุงูู
- โ ุชุตููู ูุธูู ูููุธู
- โ ุณูููุฉ ุงูุงุณุชุฎุฏุงู
- โ ูุงุจู ููุชูุณุน ูุงูุชุทููุฑ

**ุงูููุฒุฉ ุงูุฃุณุงุณูุฉ**: ุงูุขู ูููู ูููุณุชุฎุฏู ุฌุฏููุฉ ุตูุงูุฉ ูููุฑูุจุฉ ูุจุงุดุฑุฉ ูู ุจุทุงูุฉ ุงูุนูุฏ ุจููุฑุชูู ููุท! ๐

---

**ุขุฎุฑ ุชุญุฏูุซ**: 2025-01-19  
**ุงูุญุงูุฉ**: โ ููุชูู ูุฌุงูุฒ ููุฅูุชุงุฌ  
**ุงูุจูุงุก**: โ ูุฌุญ ุจุฏูู ุฃุฎุทุงุก
